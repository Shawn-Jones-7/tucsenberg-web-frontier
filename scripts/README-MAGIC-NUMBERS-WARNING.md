# ⚠️ 魔法数字脚本安全警告

## 🚨 重要提醒

**`fix-magic-numbers.js` 脚本已被禁用**，因为存在以下严重风险：

### 已识别的风险

1. **导入逻辑缺陷**：
   - 只在文件完全没有导入时添加导入语句
   - 对于已有部分导入的文件，不会添加新常量到导入列表
   - 结果：使用新常量但没有导入 → TS2304错误

2. **常量定义不完整**：
   - 脚本生成的常量文件可能缺少实际使用的常量
   - 导致 TS2304 "Cannot find name" 错误

3. **正则表达式上下文问题**：
   - 可能在不当上下文中替换数字（字符串、注释、正则表达式内）
   - 可能破坏现有代码语法

### 安全替代方案

**使用已验证的脚本**：
- ✅ `scripts/fix-missing-imports.js` - 智能导入修复
- ✅ 手动补充常量定义
- ✅ 分阶段验证机制

### 恢复使用条件

只有在以下条件全部满足后才能重新启用：
1. 修复导入逻辑缺陷
2. 实施AST解析替代正则表达式
3. 建立完整的预检查机制
4. 通过全面测试验证

**在此之前，请勿使用原脚本！**
