<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Copy/Paste Detector Report</title><link href="styles/tailwind.css" rel="stylesheet"><link href="styles/prism.css" rel="stylesheet"></head><body class="bg-gray-100"><header class="bg-white shadow py-4"><div class="container mx-auto px-4"><h1 class="text-3xl font-semibold text-gray-800">jscpd - copy/paste report</h1></div></header><main class="container mx-auto my-8 p-4 bg-white shadow rounded"><section class="mb-8" id="dashboard"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Dashboard</h2><div class="grid grid-cols-4 gap-4"><div class="bg-blue-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-blue-800 mb-2">Total Files</h3><span class="text-4xl font-bold text-blue-800">613</span></div><div class="bg-green-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-green-800 mb-2">Total Lines of Code</h3><span class="text-4xl font-bold text-green-800">100489</span></div><div class="bg-yellow-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-yellow-800 mb-2">Number of Clones</h3><span class="text-4xl font-bold text-yellow-800">190</span></div><div class="bg-red-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-red-800 mb-2">Duplicated Lines</h3><span class="text-4xl font-bold text-red-800">4643 (4.62%)</span></div></div></section><section class="mb-8" id="formats"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Formats with Duplications</h2><table class="w-full table-auto"><thead><tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal"><th class="py-3 px-6 text-left">Format</th><th class="py-3 px-6 text-left">Files</th><th class="py-3 px-6 text-left">Lines</th><th class="py-3 px-6 text-left">Clones</th><th class="py-3 px-6 text-left">Duplicated Lines</th><th class="py-3 px-6 text-left">Duplicated Tokens</th></tr></thead><tbody><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#typescript-clones">typescript</a></td><td class="py-3 px-6">556</td><td class="py-3 px-6">89961</td><td class="py-3 px-6">152</td><td class="py-3 px-6">3948</td><td class="py-3 px-6">26712</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#javascript-clones">javascript</a></td><td class="py-3 px-6">57</td><td class="py-3 px-6">10528</td><td class="py-3 px-6">38</td><td class="py-3 px-6">695</td><td class="py-3 px-6">5489</td></tr></tbody></table></section><section class="mb-8" id="txt-clones"><a name="typescript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">typescript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/page.tsx (Line 34:9 - Line 70:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/components/layout-strategy.tsx (Line 8:5 - Line 43:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup0"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;ğŸ“ å¸ƒå±€ç­–ç•¥&lt;/h2&gt;
          &lt;div className='space-y-3 text-sm'&gt;
            &lt;div className='flex items-center gap-2'&gt;
              &lt;div className='h-3 w-3 rounded-full bg-blue-500'&gt;&lt;/div&gt;
              &lt;span&gt;
                &lt;strong&gt;React Scan Indicator&lt;/strong&gt; - å·¦ä¸‹è§’ (ä¼˜å…ˆçº§ 9)
              &lt;/span&gt;
            &lt;/div&gt;
            &lt;div className='flex items-center gap-2'&gt;
              &lt;div className='h-3 w-3 rounded-full bg-green-500'&gt;&lt;/div&gt;
              &lt;span&gt;
                &lt;strong&gt;React Scan Controls&lt;/strong&gt; - å³ä¸‹è§’ (ä¼˜å…ˆçº§ 8)
              &lt;/span&gt;
            &lt;/div&gt;
            &lt;div className='flex items-center gap-2'&gt;
              &lt;div className='h-3 w-3 rounded-full bg-yellow-500'&gt;&lt;/div&gt;
              &lt;span&gt;
                &lt;strong&gt;I18n Performance&lt;/strong&gt; - å³ä¸Šè§’ (ä¼˜å…ˆçº§ 7)
              &lt;/span&gt;
            &lt;/div&gt;
            &lt;div className='flex items-center gap-2'&gt;
              &lt;div className='h-3 w-3 rounded-full bg-purple-500'&gt;&lt;/div&gt;
              &lt;span&gt;
                &lt;strong&gt;I18n Indicator&lt;/strong&gt; - å·¦ä¸Šè§’ (ä¼˜å…ˆçº§ 6)
              &lt;/span&gt;
            &lt;/div&gt;
            &lt;div className='flex items-center gap-2'&gt;
              &lt;div className='h-3 w-3 rounded-full bg-red-500'&gt;&lt;/div&gt;
              &lt;span&gt;
                &lt;strong&gt;Web Vitals&lt;/strong&gt; - å·¦ä¸­ (ä¼˜å…ˆçº§ 5)
              &lt;/span&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/Card&gt;

        {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/page.tsx (Line 71:9 - Line 89:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/components/keyboard-shortcuts.tsx (Line 8:5 - Line 25:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup1"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;âŒ¨ï¸ å¿«æ·é”®&lt;/h2&gt;
          &lt;div className='space-y-2 text-sm'&gt;
            &lt;div className='flex items-center justify-between'&gt;
              &lt;span&gt;å¼€å‘å·¥å…·æ§åˆ¶å™¨&lt;/span&gt;
              &lt;kbd className='rounded bg-gray-200 px-2 py-1 text-xs dark:bg-gray-700'&gt;
                Ctrl+Shift+D
              &lt;/kbd&gt;
            &lt;/div&gt;
            &lt;div className='flex items-center justify-between'&gt;
              &lt;span&gt;React Scan åˆ‡æ¢&lt;/span&gt;
              &lt;kbd className='rounded bg-gray-200 px-2 py-1 text-xs dark:bg-gray-700'&gt;
                Ctrl+Shift+X
              &lt;/kbd&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/Card&gt;

        {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/page.tsx (Line 90:9 - Line 108:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/components/test-instructions.tsx (Line 8:5 - Line 25:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup2"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;ğŸ§ª æµ‹è¯•æ­¥éª¤&lt;/h2&gt;
          &lt;ol className='list-inside list-decimal space-y-2 text-sm'&gt;
            &lt;li&gt;æ£€æŸ¥é¡µé¢å››ä¸ªè§’è½çš„å¼€å‘å·¥å…·æ˜¯å¦æ­£ç¡®æ˜¾ç¤º&lt;/li&gt;
            &lt;li&gt;éªŒè¯å·¥å…·ä¹‹é—´æ²¡æœ‰é‡å æˆ–é®æŒ¡&lt;/li&gt;
            &lt;li&gt;
              æµ‹è¯•{' '}
              &lt;kbd className='rounded bg-gray-200 px-1 dark:bg-gray-700'&gt;
                Ctrl+Shift+D
              &lt;/kbd&gt;{' '}
              æ‰“å¼€å¼€å‘å·¥å…·æ§åˆ¶å™¨
            &lt;/li&gt;
            &lt;li&gt;åœ¨æ§åˆ¶å™¨ä¸­æŸ¥çœ‹æ‰€æœ‰å·¥å…·çš„å¸ƒå±€ä¿¡æ¯&lt;/li&gt;
            &lt;li&gt;æµ‹è¯•å¯æŠ˜å å·¥å…·çš„å±•å¼€/æ”¶èµ·åŠŸèƒ½&lt;/li&gt;
            &lt;li&gt;è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ï¼Œç¡®ä¿å“åº”å¼å¸ƒå±€æ­£å¸¸&lt;/li&gt;
          &lt;/ol&gt;
        &lt;/Card&gt;

        {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/page.tsx (Line 109:9 - Line 138:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/components/layout-status.tsx (Line 8:5 - Line 35:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup3"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;ğŸ“Š å½“å‰çŠ¶æ€&lt;/h2&gt;
          &lt;div className='space-y-3'&gt;
            &lt;div className='text-muted-foreground text-sm'&gt;
              ä½¿ç”¨å¼€å‘å·¥å…·æ§åˆ¶å™¨ (Ctrl+Shift+D) æŸ¥çœ‹å®æ—¶å¸ƒå±€ä¿¡æ¯
            &lt;/div&gt;

            &lt;div className='grid grid-cols-2 gap-4 text-xs'&gt;
              &lt;div className='rounded bg-gray-50 p-3 dark:bg-gray-800'&gt;
                &lt;div className='mb-1 font-medium'&gt;å·¦ä¸Šè§’&lt;/div&gt;
                &lt;div className='text-muted-foreground'&gt;I18n Indicator&lt;/div&gt;
              &lt;/div&gt;
              &lt;div className='rounded bg-gray-50 p-3 dark:bg-gray-800'&gt;
                &lt;div className='mb-1 font-medium'&gt;å³ä¸Šè§’&lt;/div&gt;
                &lt;div className='text-muted-foreground'&gt;I18n Performance&lt;/div&gt;
              &lt;/div&gt;
              &lt;div className='rounded bg-gray-50 p-3 dark:bg-gray-800'&gt;
                &lt;div className='mb-1 font-medium'&gt;å·¦ä¸‹è§’&lt;/div&gt;
                &lt;div className='text-muted-foreground'&gt;
                  React Scan Indicator
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div className='rounded bg-gray-50 p-3 dark:bg-gray-800'&gt;
                &lt;div className='mb-1 font-medium'&gt;å³ä¸‹è§’&lt;/div&gt;
                &lt;div className='text-muted-foreground'&gt;React Scan Controls&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/Card&gt;
      &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/page.tsx (Line 141:7 - Line 173:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/components/test-operations.tsx (Line 8:5 - Line 39:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup4"><code class="language-typescript text-sm text-gray-800">&lt;Card className='mt-6 p-6'&gt;
        &lt;h2 className='mb-4 text-xl font-semibold'&gt;ğŸ® æµ‹è¯•æ“ä½œ&lt;/h2&gt;
        &lt;div className='flex flex-wrap gap-4'&gt;
          &lt;div className='text-muted-foreground text-sm'&gt;
            &lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å¿«æ·é”®æµ‹è¯•å¼€å‘å·¥å…·ï¼š&lt;/p&gt;
            &lt;ul className='mt-2 space-y-1'&gt;
              &lt;li&gt;
                â€¢{' '}
                &lt;kbd className='rounded bg-gray-200 px-1 dark:bg-gray-700'&gt;
                  Ctrl+Shift+D
                &lt;/kbd&gt;{' '}
                - æ‰“å¼€å¼€å‘å·¥å…·æ§åˆ¶å™¨
              &lt;/li&gt;
              &lt;li&gt;
                â€¢{' '}
                &lt;kbd className='rounded bg-gray-200 px-1 dark:bg-gray-700'&gt;
                  Ctrl+Shift+X
                &lt;/kbd&gt;{' '}
                - åˆ‡æ¢ React Scan
              &lt;/li&gt;
              &lt;li&gt;
                â€¢{' '}
                &lt;kbd className='rounded bg-gray-200 px-1 dark:bg-gray-700'&gt;
                  F5
                &lt;/kbd&gt;{' '}
                - åˆ·æ–°é¡µé¢
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/Card&gt;

      {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/page.tsx (Line 174:7 - Line 187:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/layout-test/components/issue-reporting.tsx (Line 8:5 - Line 21:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup5"><code class="language-typescript text-sm text-gray-800">&lt;Card className='mt-6 p-6'&gt;
        &lt;h2 className='mb-4 text-xl font-semibold'&gt;ğŸ› é—®é¢˜æŠ¥å‘Š&lt;/h2&gt;
        &lt;div className='text-muted-foreground text-sm'&gt;
          &lt;p className='mb-2'&gt;å¦‚æœå‘ç°ä»¥ä¸‹é—®é¢˜ï¼Œè¯·æ£€æŸ¥å¼€å‘å·¥å…·å®šä½ç³»ç»Ÿï¼š&lt;/p&gt;
          &lt;ul className='list-inside list-disc space-y-1'&gt;
            &lt;li&gt;å¼€å‘å·¥å…·é‡å æˆ–é®æŒ¡&lt;/li&gt;
            &lt;li&gt;å·¥å…·æ˜¾ç¤ºåœ¨é”™è¯¯çš„ä½ç½®&lt;/li&gt;
            &lt;li&gt;å¿«æ·é”®ä¸å“åº”&lt;/li&gt;
            &lt;li&gt;å·¥å…·æ— æ³•æŠ˜å æˆ–å±•å¼€&lt;/li&gt;
            &lt;li&gt;å¸ƒå±€åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹å¼‚å¸¸&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/Card&gt;
    &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/theme-analytics/setup.ts (Line 46:2 - Line 61:23), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 225:2 - Line 240:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup6"><code class="language-typescript text-sm text-gray-800">);

// Mock localStorage
export const mockLocalStorage = {
  getItem: vi.fn(),
  setItem: vi.fn(),
  removeItem: vi.fn(),
  clear: vi.fn(),
};

Object.defineProperty(global, 'localStorage', {
  value: mockLocalStorage,
  writable: true,
});

// Mock sessionStorage</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/mocks/translations.ts (Line 81:2 - Line 98:44), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/mocks/translations.ts (Line 44:2 - Line 61:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup7"><code class="language-typescript text-sm text-gray-800">= {
  common: {
    loading: 'åŠ è½½ä¸­...',
    error: 'å‘ç”Ÿé”™è¯¯',
    success: 'æˆåŠŸ',
    cancel: 'å–æ¶ˆ',
    confirm: 'ç¡®è®¤',
    save: 'ä¿å­˜',
    edit: 'ç¼–è¾‘',
    delete: 'åˆ é™¤',
    hello: 'ä½ å¥½',
    goodbye: 'å†è§',
    welcome: 'æ¬¢è¿æ¥åˆ°{name}',
  },
  navigation: {
    home: 'é¦–é¡µ',
    about: 'å…³äº',
    // Missing 'contact' key to test validation</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/mocks/translations.ts (Line 145:5 - Line 168:14), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/mocks/translations.ts (Line 116:5 - Line 139:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup8"><code class="language-typescript text-sm text-gray-800">loading: 'åŠ è½½ä¸­...',
    error: 'å‘ç”Ÿé”™è¯¯',
    success: 'æˆåŠŸ',
    cancel: 'å–æ¶ˆ',
    confirm: 'ç¡®è®¤',
    save: 'ä¿å­˜',
    edit: 'ç¼–è¾‘',
    delete: 'åˆ é™¤',
  },
  navigation: {
    home: 'é¦–é¡µ',
    about: 'å…³äº',
    contact: 'è”ç³»æˆ‘ä»¬',
    services: 'æœåŠ¡',
    products: 'äº§å“',
    blog: 'åšå®¢',
  },
  forms: {
    submit: 'æäº¤',
    cancel: 'å–æ¶ˆ',
  },
};

// ä¸å®Œæ•´çš„æ—¥æ–‡ç¿»è¯‘æ•°æ®</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/mocks/airtable-validations.ts (Line 7:2 - Line 16:16), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/mocks/validations.ts (Line 7:2 - Line 16:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup9"><code class="language-typescript text-sm text-gray-800">= {
  parse: vi.fn((data) =&gt; data),
};

export const validationHelpers = {
  sanitizeInput: vi.fn((input) =&gt; input),
  isSpamContent: vi.fn(() =&gt; false),
};

export type ContactFormData</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/accessibility/setup.ts (Line 73:29 - Line 101:25), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 243:15 - Line 271:46)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup10"><code class="language-typescript text-sm text-gray-800">,
  writable: true,
});

// Mock ResizeObserver
export const mockResizeObserver = vi.fn();
mockResizeObserver.mockImplementation(() =&gt; ({
  observe: vi.fn(),
  unobserve: vi.fn(),
  disconnect: vi.fn(),
}));
Object.defineProperty(window, 'ResizeObserver', {
  value: mockResizeObserver,
  writable: true,
});

// Mock IntersectionObserver
export const mockIntersectionObserver = vi.fn();
mockIntersectionObserver.mockImplementation(() =&gt; ({
  observe: vi.fn(),
  unobserve: vi.fn(),
  disconnect: vi.fn(),
}));
Object.defineProperty(window, 'IntersectionObserver', {
  value: mockIntersectionObserver,
  writable: true,
});

// Mock MutationObserver</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/accessibility/setup.ts (Line 130:16 - Line 144:32), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 279:6 - Line 293:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup11"><code class="language-typescript text-sm text-gray-800">.mockImplementation(() =&gt; {});

  // Reset matchMedia mock
  mockMatchMedia.mockImplementation((query) =&gt; ({
    matches: false,
    media: query,
    onchange: null,
    addListener: vi.fn(),
    removeListener: vi.fn(),
    addEventListener: vi.fn(),
    removeEventListener: vi.fn(),
    dispatchEvent: vi.fn(),
  }));

  // Reset speech synthesis mocks</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/__tests__/accessibility/setup.ts (Line 205:8 - Line 213:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 283:6 - Line 291:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup12"><code class="language-typescript text-sm text-gray-800">,
    media: query,
    onchange: null,
    addListener: vi.fn(),
    removeListener: vi.fn(),
    addEventListener: vi.fn(),
    removeEventListener: vi.fn(),
    dispatchEvent: vi.fn(),
  };</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/test-utils.ts (Line 5:2 - Line 61:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/components/layout/__tests__/test-utils.ts (Line 5:2 - Line 61:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup13"><code class="language-typescript text-sm text-gray-800">RenderOptions } from '@testing-library/react';
import { vi } from 'vitest';

// Mock messages for testing
export const mockMessages = {
  navigation: {
    home: 'Home',
    about: 'About',
    services: 'Services',
    products: 'Products',
    blog: 'Blog',
    contact: 'Contact',
  },
  language: {
    switch: 'Switch language',
    english: 'English',
    chinese: 'Chinese',
    current: 'Current language: {locale}',
  },
  theme: {
    toggle: 'Toggle theme',
    light: 'Light',
    dark: 'Dark',
    system: 'System',
  },
  common: {
    loading: 'Loading...',
    error: 'Error',
    success: 'Success',
  },
};

// Simple render function without complex providers for now
interface CustomRenderOptions extends Omit&lt;RenderOptions, 'wrapper'&gt; {
  locale?: string;
  messages?: Record&lt;string, unknown&gt;;
}

export function renderWithProviders(
  ui: ReactElement,
  options: CustomRenderOptions = {},
) {
  // For now, just use basic render - we'll mock the i18n hooks directly
  return render(ui, options);
}

// Mock theme provider
export const mockThemeProvider = {
  theme: 'light' as const,
  setTheme: vi.fn(),
  systemTheme: 'light' as const,
  resolvedTheme: 'light' as const,
};

// Re-export everything from testing library
export * from '@testing-library/react';
export { default as userEvent } from '@testing-library/user-event';</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-guide/basics-tab.tsx (Line 69:14 - Line 83:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-guide/basics-tab.tsx (Line 11:15 - Line 25:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup14"><code class="language-typescript text-sm text-gray-800">({
  isOpen,
  onToggle,
}: {
  isOpen: boolean;
  onToggle: () =&gt; void;
}) {
  return (
    &lt;Card&gt;
      &lt;CardHeader
        className='cursor-pointer hover:bg-gray-50'
        onClick={onToggle}
      &gt;
        &lt;div className='flex items-center justify-between'&gt;
          &lt;CardTitle className='text-lg'&gt;ğŸ›ï¸</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-guide/basics-tab.tsx (Line 83:5 - Line 95:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-guide/basics-tab.tsx (Line 25:5 - Line 37:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup15"><code class="language-typescript text-sm text-gray-800">&lt;/CardTitle&gt;
          {isOpen ? (
            &lt;ChevronDown className='h-4 w-4' /&gt;
          ) : (
            &lt;ChevronRight className='h-4 w-4' /&gt;
          )}
        &lt;/div&gt;
      &lt;/CardHeader&gt;
      {isOpen &amp;&amp; (
        &lt;CardContent&gt;
          &lt;div className='space-y-4'&gt;
            &lt;div&gt;
              &lt;h4 className='mb-2 font-semibold'&gt;å·¥å…·æ åŠŸèƒ½</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-guide/basics-tab.tsx (Line 131:14 - Line 145:3), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-guide/basics-tab.tsx (Line 11:15 - Line 25:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup16"><code class="language-typescript text-sm text-gray-800">({
  isOpen,
  onToggle,
}: {
  isOpen: boolean;
  onToggle: () =&gt; void;
}) {
  return (
    &lt;Card&gt;
      &lt;CardHeader
        className='cursor-pointer hover:bg-gray-50'
        onClick={onToggle}
      &gt;
        &lt;div className='flex items-center justify-between'&gt;
          &lt;CardTitle className='text-lg'&gt;âŒ¨ï¸</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/__tests__/theme-toggle/setup.tsx (Line 57:19 - Line 83:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 52:4 - Line 78:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup17"><code class="language-typescript text-sm text-gray-800">),
}));

// Mock UI components
vi.mock('@/components/ui/dropdown-menu', () =&gt; ({
  DropdownMenu: ({
    children,
    open,
    onOpenChange,
  }: {
    children?: React.ReactNode;
    open?: boolean;
    onOpenChange?: (open: boolean) =&gt; void;
  }) =&gt; (
    &lt;div
      data-testid='dropdown-menu'
      data-open={open}
      onClick={() =&gt; onOpenChange?.(!open)}
    &gt;
      {children}
    &lt;/div&gt;
  ),
  DropdownMenuContent: ({
    children,
    align,
    className,
    role</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/__tests__/theme-toggle/setup.tsx (Line 388:3 - Line 399:17), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 282:3 - Line 293:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup18"><code class="language-typescript text-sm text-gray-800">mockMatchMedia.mockImplementation((query) =&gt; ({
    matches: false,
    media: query,
    onchange: null,
    addListener: vi.fn(),
    removeListener: vi.fn(),
    addEventListener: vi.fn(),
    removeEventListener: vi.fn(),
    dispatchEvent: vi.fn(),
  }));

  mockLocalStorage</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/__tests__/theme-toggle/setup.tsx (Line 406:2 - Line 416:20), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/__tests__/theme-toggle/setup.tsx (Line 13:2 - Line 23:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup19"><code class="language-typescript text-sm text-gray-800">{
    theme: 'light',
    isOpen: false,
    setIsOpen: vi.fn(),
    supportsViewTransitions: true,
    prefersReducedMotion: false,
    prefersHighContrast: false,
    handleThemeChange: vi.fn(),
    handleKeyDown: vi.fn(),
    ariaAttributes: {
      'aria-label': 'ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ï¼Œå½“å‰ä¸»é¢˜ï¼šlight'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/api/test-content/route.ts (Line 28:5 - Line 37:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/api/test-content/route.ts (Line 12:2 - Line 21:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup20"><code class="language-typescript text-sm text-gray-800">: string } | null {
  if (items.length === 0) return null;

  const [item] = items;
  if (!item?.metadata) return null;

  return {
    title: item.metadata.title ?? 'Untitled',
    slug: item.metadata.slug ?? '',
  }</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/api/csp-report/route.ts (Line 158:29 - Line 177:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/api/verify-turnstile/route.ts (Line 221:13 - Line 240:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup21"><code class="language-typescript text-sm text-gray-800">,
      timestamp: new Date().toISOString(),
    },
    { status: 200 },
  );
}

/**
 * Only allow POST and GET methods
 */
export function OPTIONS() {
  return new NextResponse(null, {
    status: 200,
    headers: {
      'Allow': 'POST, GET, OPTIONS',
      'Access-Control-Allow-Methods': 'POST, GET, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type',
    },
  });
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/react-scan-demo/react-scan-demo-components.tsx (Line 173:22 - Line 188:19), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/react-scan-demo/react-scan-stats.tsx (Line 49:34 - Line 63:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup22"><code class="language-typescript text-sm text-gray-800">, error);
        }
        setStats({
          enabled: false,
          totalRenders: 0,
          componentsTracked: 0,
          lastUpdate: new Date().toLocaleTimeString(),
        });
      }
    }
  }, []);

  useEffect(() =&gt; {
    updateStats();

    // æ›´é¢‘ç¹çš„è½®è¯¢ä»¥å¿«é€Ÿå“åº”çŠ¶æ€å˜åŒ–</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/react-scan-demo/react-scan-components.tsx (Line 70:2 - Line 83:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/react-scan-demo/react-scan-demo-components.tsx (Line 100:2 - Line 112:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup23"><code class="language-typescript text-sm text-gray-800">= useMemo(
    () =&gt; ({
      timestamp: Date.now(),
      random: Math.random(),
      count,
    }),
    [count],
  );

  return (
    &lt;Card className='border-green-200 bg-green-50'&gt;
      &lt;CardHeader&gt;
        &lt;CardTitle className='text-green-700'&gt;
          ä¼˜åŒ–ç»„ä»¶{</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/utils.ts (Line 197:25 - Line 204:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/demo/utils.ts (Line 101:18 - Line 108:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup24"><code class="language-typescript text-sm text-gray-800">${new Date().toISOString().split('T')[0]}.json`;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

// å·¥å…·å‡½æ•°ï¼šè·å–æŒ‡æ ‡çŠ¶æ€</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/page-utils.ts (Line 22:7 - Line 40:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/utils.ts (Line 104:2 - Line 122:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup25"><code class="language-typescript text-sm text-gray-800">;

  if (webVitalsMonitor) {
    const summary = webVitalsMonitor.getPerformanceSummary();
    return {
      cls: summary.metrics.cls || 0,
      lcp: summary.metrics.lcp || 0,
      fid: summary.metrics.fid || 0,
      fcp: summary.metrics.fcp || 0,
      ttfb: summary.metrics.ttfb || 0,
      score: summary.score || 0,
      timestamp: Date.now(),
      url: window.location.href,
    };
  }

  // å¦‚æœæ²¡æœ‰ç›‘æ§å™¨ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®
  return {
    cls: 0</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/page-utils.ts (Line 54:1 - Line 71:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/utils.ts (Line 148:1 - Line 163:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup26"><code class="language-typescript text-sm text-gray-800">export function loadHistoricalData(): SimpleWebVitals[] {
  try {
    const stored = localStorage.getItem('webVitalsHistory');
    if (stored) {
      const data = JSON.parse(stored);
      return Array.isArray(data) ? data.slice(0, HISTORY_DISPLAY_LIMIT) : [];
    }
  } catch (error) {
    if (process.env.NODE_ENV === 'development') {
      console.warn('Failed to load historical data:', error);
    }
  }
  return [];
}

/**
 * ä¿å­˜å½“å‰æ•°æ®
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/page-utils.ts (Line 72:1 - Line 90:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/utils.ts (Line 164:1 - Line 180:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup27"><code class="language-typescript text-sm text-gray-800">export function saveCurrentData(metrics: SimpleWebVitals): SimpleWebVitals[] {
  try {
    const existing = JSON.parse(
      localStorage.getItem('webVitalsHistory') || '[]',
    );
    const updated = [metrics, ...existing.slice(0, HISTORY_STORAGE_LIMIT)];
    localStorage.setItem('webVitalsHistory', JSON.stringify(updated));
    return updated.slice(0, HISTORY_DISPLAY_LIMIT);
  } catch (error) {
    if (process.env.NODE_ENV === 'development') {
      console.warn('Failed to save data:', error);
    }
    return [];
  }
}

/**
 * å¯¼å‡ºè¯Šæ–­æ•°æ®
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/page-utils.ts (Line 94:2 - Line 107:13), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/utils.ts (Line 184:2 - Line 197:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup28"><code class="language-typescript text-sm text-gray-800">{
  const data = {
    current: currentMetrics,
    historical: historicalData,
    timestamp: new Date().toISOString(),
  };

  const blob = new Blob([JSON.stringify(data, null, JSON_INDENT_SPACES)], {
    type: 'application/json',
  });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `web-vitals-</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/page-utils.ts (Line 107:13 - Line 112:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/demo/utils.ts (Line 101:18 - Line 106:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup29"><code class="language-typescript text-sm text-gray-800">${new Date().toISOString().split('T')[0]}.json`;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/page-hooks.ts (Line 14:19 - Line 25:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/page-new.tsx (Line 18:16 - Line 29:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup30"><code class="language-typescript text-sm text-gray-800">() {
  const [currentMetrics, _setCurrentMetrics] = useState&lt;SimpleWebVitals | null&gt;(
    null,
  );
  const [historicalData, _setHistoricalData] = useState&lt;SimpleWebVitals[]&gt;([]);
  const [isLoading, _setIsLoading] = useState(false);

  // åˆ·æ–°æ•°æ®
  const refreshData = useCallback(async () =&gt; {
    _setIsLoading(true);
    try {
      // ç­‰å¾…æ•°æ®æ”¶é›†</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/diagnostics-current-metrics.tsx (Line 85:12 - Line 101:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/diagnostics-current-metrics.tsx (Line 41:15 - Line 57:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup31"><code class="language-typescript text-sm text-gray-800">.map(({ key, label, description }) =&gt; (
        &lt;MetricCard
          key={key}
          label={label}
          value={formatMetric(
            key,
            metrics[key as keyof SimpleWebVitals] as number,
          )}
          status={getMetricStatus(
            key,
            metrics[key as keyof SimpleWebVitals] as number,
          )}
          description={description}
        /&gt;
      ))}

      {showScore</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/diagnostics-control-panel.tsx (Line 97:13 - Line 120:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/diagnostics/diagnostics-control-panel.tsx (Line 38:14 - Line 61:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup32"><code class="language-typescript text-sm text-gray-800">&lt;/CardDescription&gt;
          &lt;/div&gt;
          &lt;div className='flex gap-2'&gt;
            &lt;Button
              onClick={onRefresh}
              disabled={isLoading}
              variant='outline'
              size='sm'
            &gt;
              &lt;RefreshCw
                className={`mr-2 h-4 w-4 ${isLoading ? 'animate-spin' : ''}`}
              /&gt;
              {isLoading ? 'æ£€æµ‹ä¸­...' : 'é‡æ–°æ£€æµ‹'}
            &lt;/Button&gt;
            &lt;Button
              onClick={onExport}
              disabled={!currentMetrics}
              variant='outline'
              size='sm'
            &gt;
              &lt;Download className='mr-2 h-4 w-4' /&gt;
              å¯¼å‡ºæ•°æ®
            &lt;/Button&gt;
            {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/page.tsx (Line 42:9 - Line 98:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/components/react-scan-intro.tsx (Line 8:5 - Line 57:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup33"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;
            ğŸ” React Scan Performance Monitor
          &lt;/h2&gt;
          &lt;div className='space-y-4'&gt;
            &lt;p className='text-muted-foreground'&gt;
              React Scan is a performance monitoring tool that helps identify
              unnecessary re-renders and performance bottlenecks in React
              components.
            &lt;/p&gt;

            &lt;div className='rounded-lg bg-blue-50 p-4'&gt;
              &lt;h3 className='mb-2 font-medium'&gt;Getting Started:&lt;/h3&gt;
              &lt;ol className='list-inside list-decimal space-y-1 text-sm'&gt;
                &lt;li&gt;
                  Set{' '}
                  &lt;code className='rounded bg-gray-200 px-1'&gt;
                    NEXT_PUBLIC_ENABLE_REACT_SCAN=true
                  &lt;/code&gt;{' '}
                  in your .env.local
                &lt;/li&gt;
                &lt;li&gt;
                  Restart the development server with{' '}
                  &lt;code className='rounded bg-gray-200 px-1'&gt;
                    pnpm dev:scan
                  &lt;/code&gt;
                &lt;/li&gt;
                &lt;li&gt;
                  Look for the React Scan indicators in the bottom corners
                &lt;/li&gt;
                &lt;li&gt;
                  Use the demo components below to see React Scan in action
                &lt;/li&gt;
              &lt;/ol&gt;
            &lt;/div&gt;

            &lt;div className='rounded-lg bg-yellow-50 p-4'&gt;
              &lt;h3 className='mb-2 font-medium'&gt;Visual Indicators:&lt;/h3&gt;
              &lt;ul className='list-inside list-disc space-y-1 text-sm'&gt;
                &lt;li&gt;
                  &lt;span className='text-red-600'&gt;Red highlights&lt;/span&gt; =
                  Unnecessary re-renders (needs optimization)
                &lt;/li&gt;
                &lt;li&gt;
                  &lt;span className='text-green-600'&gt;Green highlights&lt;/span&gt; =
                  Optimized renders
                &lt;/li&gt;
                &lt;li&gt;
                  &lt;span className='text-blue-600'&gt;Blue indicator&lt;/span&gt; = React
                  Scan is active
                &lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/Card&gt;

        {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/page.tsx (Line 96:5 - Line 110:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/components/demo-sections.tsx (Line 11:2 - Line 23:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup34"><code class="language-typescript text-sm text-gray-800">&gt;

        {/* React Scan æ¼”ç¤º */}
        &lt;div&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;Performance Demo&lt;/h2&gt;
          &lt;DynamicReactScanDemo /&gt;
        &lt;/div&gt;

        {/* React Scan å‹åŠ›æµ‹è¯• */}
        &lt;div&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;Stress Test&lt;/h2&gt;
          &lt;DynamicReactScanStressTest /&gt;
        &lt;/div&gt;

        {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/page.tsx (Line 111:9 - Line 149:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/components/other-dev-tools.tsx (Line 8:5 - Line 42:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup35"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;
            ğŸ› ï¸ Other Development Tools
          &lt;/h2&gt;
          &lt;div className='grid grid-cols-1 gap-4 md:grid-cols-2'&gt;
            &lt;div className='rounded border p-4'&gt;
              &lt;h3 className='mb-2 font-medium'&gt;Web Vitals Monitor&lt;/h3&gt;
              &lt;p className='text-muted-foreground text-sm'&gt;
                Real-time monitoring of Core Web Vitals metrics including CLS,
                FCP, and LCP.
              &lt;/p&gt;
            &lt;/div&gt;

            &lt;div className='rounded border p-4'&gt;
              &lt;h3 className='mb-2 font-medium'&gt;Theme Performance Monitor&lt;/h3&gt;
              &lt;p className='text-muted-foreground text-sm'&gt;
                Tracks theme switching performance and CSS-in-JS optimization.
              &lt;/p&gt;
            &lt;/div&gt;

            &lt;div className='rounded border p-4'&gt;
              &lt;h3 className='mb-2 font-medium'&gt;I18n Performance Dashboard&lt;/h3&gt;
              &lt;p className='text-muted-foreground text-sm'&gt;
                Monitors internationalization performance and translation
                loading times.
              &lt;/p&gt;
            &lt;/div&gt;

            &lt;div className='rounded border p-4'&gt;
              &lt;h3 className='mb-2 font-medium'&gt;Translation Preloader&lt;/h3&gt;
              &lt;p className='text-muted-foreground text-sm'&gt;
                Optimizes translation loading and caching for better
                performance.
              &lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/Card&gt;

        {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/page.tsx (Line 150:9 - Line 187:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/components/keyboard-shortcuts.tsx (Line 8:5 - Line 44:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup36"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;âŒ¨ï¸ Keyboard Shortcuts&lt;/h2&gt;
          &lt;div className='grid grid-cols-1 gap-4 md:grid-cols-2'&gt;
            &lt;div&gt;
              &lt;h3 className='mb-2 font-medium'&gt;React Scan&lt;/h3&gt;
              &lt;ul className='space-y-1 text-sm'&gt;
                &lt;li&gt;
                  &lt;kbd className='rounded bg-gray-200 px-1'&gt;Ctrl+Shift+X&lt;/kbd&gt; -
                  Toggle display
                &lt;/li&gt;
                &lt;li&gt;
                  &lt;kbd className='rounded bg-gray-200 px-1'&gt;Ctrl+Shift+C&lt;/kbd&gt; -
                  Clear history
                &lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;

            &lt;div&gt;
              &lt;h3 className='mb-2 font-medium'&gt;Browser DevTools&lt;/h3&gt;
              &lt;ul className='space-y-1 text-sm'&gt;
                &lt;li&gt;
                  &lt;kbd className='rounded bg-gray-200 px-1'&gt;F12&lt;/kbd&gt; - Open
                  DevTools
                &lt;/li&gt;
                &lt;li&gt;
                  &lt;kbd className='rounded bg-gray-200 px-1'&gt;Ctrl+Shift+I&lt;/kbd&gt; -
                  Open DevTools
                &lt;/li&gt;
                &lt;li&gt;
                  &lt;kbd className='rounded bg-gray-200 px-1'&gt;Ctrl+Shift+J&lt;/kbd&gt; -
                  Open Console
                &lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/Card&gt;

        {</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/page.tsx (Line 188:9 - Line 217:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/[locale]/dev-tools/components/documentation-links.tsx (Line 8:5 - Line 37:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup37"><code class="language-typescript text-sm text-gray-800">&lt;Card className='p-6'&gt;
          &lt;h2 className='mb-4 text-xl font-semibold'&gt;ğŸ“š Documentation&lt;/h2&gt;
          &lt;div className='space-y-2'&gt;
            &lt;a
              href='/docs/development/react-scan.md'
              className='block text-blue-600 hover:underline'
              target='_blank'
              rel='noopener noreferrer'
            &gt;
              React Scan Integration Guide
            &lt;/a&gt;
            &lt;a
              href='https://github.com/aidenybai/react-scan'
              className='block text-blue-600 hover:underline'
              target='_blank'
              rel='noopener noreferrer'
            &gt;
              React Scan GitHub Repository
            &lt;/a&gt;
            &lt;a
              href='/docs/development/performance-monitoring.md'
              className='block text-blue-600 hover:underline'
              target='_blank'
              rel='noopener noreferrer'
            &gt;
              Performance Monitoring Guide
            &lt;/a&gt;
          &lt;/div&gt;
        &lt;/Card&gt;
      &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/test/utils.tsx (Line 187:2 - Line 195:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 283:6 - Line 291:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup38"><code class="language-typescript text-sm text-gray-800">,
      media: query,
      onchange: null,
      addListener: vi.fn(),
      removeListener: vi.fn(),
      addEventListener: vi.fn(),
      removeEventListener: vi.fn(),
      dispatchEvent: vi.fn(),
    })),</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/test/utils.tsx (Line 199:33 - Line 208:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/test/utils.tsx (Line 187:25 - Line 197:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup39"><code class="language-typescript text-sm text-gray-800">),
      media: query,
      onchange: null,
      addListener: vi.fn(),
      removeListener: vi.fn(),
      addEventListener: vi.fn(),
      removeEventListener: vi.fn(),
      dispatchEvent: vi.fn(),
    })),
  }</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-api-requests/message-actions-requests.ts (Line 49:2 - Line 70:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-api-requests/message-requests.ts (Line 31:16 - Line 52:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup40"><code class="language-typescript text-sm text-gray-800">;
  image?: {
    id?: string;
    link?: string;
    caption?: string;
  };
  document?: {
    id?: string;
    link?: string;
    caption?: string;
    filename?: string;
  };
  audio?: {
    id?: string;
    link?: string;
  };
  video?: {
    id?: string;
    link?: string;
    caption?: string;
  };
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/testing/utils/theme-test-utilities.ts (Line 46:2 - Line 61:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/__tests__/theme-toggle/setup.tsx (Line 13:2 - Line 28:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup41"><code class="language-typescript text-sm text-gray-800">{
      theme: 'light',
      isOpen: false,
      setIsOpen: vi.fn(),
      supportsViewTransitions: true,
      prefersReducedMotion: false,
      prefersHighContrast: false,
      handleThemeChange: vi.fn(),
      handleKeyDown: vi.fn(),
      ariaAttributes: {
        'aria-label': 'ä¸»é¢˜åˆ‡æ¢',
        'aria-expanded': 'false',
        'aria-haspopup': 'menu',
        'aria-current': 'light',
      },
    };</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/testing/utils/theme-test-utilities.ts (Line 112:7 - Line 122:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/__tests__/language-switcher/setup.tsx (Line 282:6 - Line 293:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup42"><code class="language-typescript text-sm text-gray-800">) =&gt; ({
      matches: false,
      media: query,
      onchange: null,
      addListener: vi.fn(),
      removeListener: vi.fn(),
      addEventListener: vi.fn(),
      removeEventListener: vi.fn(),
      dispatchEvent: vi.fn(),
    }));
  }</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security/object-guards.ts (Line 290:5 - Line 308:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security/object-guards.ts (Line 163:3 - Line 181:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup43"><code class="language-typescript text-sm text-gray-800">let current: unknown = obj;

    for (const key of keys) {
      if (current === null || current === undefined) {
        return undefined;
      }

      if (
        typeof current === 'object' &amp;&amp;
        hasOwn(current as Record&lt;PropertyKey, unknown&gt;, key)
      ) {
        current = (current as Record&lt;PropertyKey, unknown&gt;)[key as PropertyKey];
      } else {
        return undefined;
      }
    }

    return current;
  },</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/import-export.ts (Line 94:15 - Line 113:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/maintenance.ts (Line 66:2 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup44"><code class="language-typescript text-sm text-gray-800">,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * ä»JSONå­—ç¬¦ä¸²å¯¼å…¥å†å²è®°å½•
 * Import history from JSON string
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 86:5 - Line 105:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/maintenance.ts (Line 66:2 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup45"><code class="language-typescript text-sm text-gray-800">,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * æ¸…ç†é‡å¤çš„æ£€æµ‹è®°å½•
 * Cleanup duplicate detection records
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 106:2 - Line 123:14), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 38:1 - Line 55:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup46"><code class="language-typescript text-sm text-gray-800">): StorageOperationResult&lt;number&gt; {
  const startTime = Date.now();

  try {
    const historyResult = getDetectionHistory();

    if (!historyResult.success || !historyResult.data) {
      return {
        success: false,
        error: 'Failed to get detection history',
        source: 'localStorage',
        timestamp: Date.now(),
        responseTime: Date.now() - startTime,
      };
    }

    const history = historyResult.data;
    const originalCount</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 148:7 - Line 179:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 74:7 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup47"><code class="language-typescript text-sm text-gray-800">HistoryCacheManager.clearCache();

      return {
        success: true,
        data: removedCount,
        source: 'localStorage',
        timestamp: Date.now(),
        responseTime: Date.now() - startTime,
      };
    }
    return {
      success: true,
      data: ZERO,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * é™åˆ¶å†å²è®°å½•æ•°é‡
 * Limit history record count
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 181:16 - Line 201:3), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 37:29 - Line 125:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup48"><code class="language-typescript text-sm text-gray-800">,
): StorageOperationResult&lt;number&gt; {
  const startTime = Date.now();

  try {
    const historyResult = getDetectionHistory();

    if (!historyResult.success || !historyResult.data) {
      return {
        success: false,
        error: 'Failed to get detection history',
        source: 'localStorage',
        timestamp: Date.now(),
        responseTime: Date.now() - startTime,
      };
    }

    const history = historyResult.data;
    const originalCount = history.history.length;

    if</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 211:11 - Line 241:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 74:2 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup49"><code class="language-typescript text-sm text-gray-800">;
      return {
        success: true,
        data: removedCount,
        source: 'localStorage',
        timestamp: Date.now(),
        responseTime: Date.now() - startTime,
      };
    }
    return {
      success: true,
      data: ZERO,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * æ¸…é™¤æ‰€æœ‰å†å²è®°å½•
 * Clear all history
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 254:10 - Line 268:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/maintenance.ts (Line 66:2 - Line 80:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup50"><code class="language-typescript text-sm text-gray-800">,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/ui/social-icons.tsx (Line 37:13 - Line 51:501), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/ui/social-icons.tsx (Line 18:12 - Line 32:158)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup51"><code class="language-typescript text-sm text-gray-800">: FC&lt;SocialIconProps&gt; = ({
  className = '',
  size = MAGIC_20,
  'data-testid': dataTestId,
}) =&gt; (
  &lt;svg
    width={size}
    height={size}
    viewBox='0 0 24 24'
    fill='currentColor'
    className={className}
    aria-hidden='true'
    {...(dataTestId &amp;&amp; { 'data-testid': dataTestId })}
  &gt;
    &lt;path d='M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/ui/social-icons.tsx (Line 56:11 - Line 70:749), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/ui/social-icons.tsx (Line 18:12 - Line 32:158)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup52"><code class="language-typescript text-sm text-gray-800">: FC&lt;SocialIconProps&gt; = ({
  className = '',
  size = MAGIC_20,
  'data-testid': dataTestId,
}) =&gt; (
  &lt;svg
    width={size}
    height={size}
    viewBox='0 0 24 24'
    fill='currentColor'
    className={className}
    aria-hidden='true'
    {...(dataTestId &amp;&amp; { 'data-testid': dataTestId })}
  &gt;
    &lt;path d='M12 0C5.372 0 0 5.486 0 12.261c0 5.419 3.438 10.013 8.207 11.63.6.113.82-.264.82-.586 0-.29-.01-1.061-.016-2.084-3.338.739-4.042-1.637-4.042-1.637-.546-1.424-1.334-1.805-1.334-1.805-1.09-.759.082-.744.082-.744 1.205.086 1.84 1.258 1.84 1.258 1.072 1.872 2.813 1.332 3.498 1.018.108-.797.42-1.332.763-1.638-2.665-.313-5.466-1.371-5.466-6.1 0-1.348.465-2.45 1.23-3.312-.124-.314-.533-1.572.116-3.276 0 0 1.004-.33 3.29 1.265a11.26 11.26 0 0 1 2.994-.41c1.016.005 2.041.14 3.002.411 2.284-1.596 3.286-1.265 3.286-1.265.651 1.704.242 2.962.118 3.276.767.862 1.228 1.964 1.228 3.312 0 4.743-2.807 5.782-5.48 6.088.432.378.817 1.127.817 2.273 0 1.641-.015 2.964-.015 3.367 0 .325.217.704.825.585C20.565 22.27 24 17.677 24 12.261 24 5.486 18.627 0 12 0Z'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/theme/horizontal-theme-toggle-simple.tsx (Line 11:1 - Line 34:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/theme/horizontal-theme-toggle/theme-config.ts (Line 11:2 - Line 34:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup53"><code class="language-typescript text-sm text-gray-800">const THEME_OPTIONS = [
  {
    value: 'light',
    icon: Sun,
    labelKey: 'theme.light',
    ariaLabelKey: 'theme.switchToLight',
  },
  {
    value: 'dark',
    icon: Moon,
    labelKey: 'theme.dark',
    ariaLabelKey: 'theme.switchToDark',
  },
  {
    value: 'system',
    icon: Monitor,
    labelKey: 'theme.system',
    ariaLabelKey: 'theme.switchToSystem',
  },
] as const;

/**
 * åŠ¨ç”»å˜ä½“ç±»å‹
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/theme/horizontal-theme-toggle-simple.tsx (Line 58:1 - Line 79:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/theme/horizontal-theme-toggle/theme-config.ts (Line 53:2 - Line 74:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup54"><code class="language-typescript text-sm text-gray-800">const getSizeClasses = (size: 'sm' | 'default' | 'lg') =&gt; {
  switch (size) {
    case 'sm':
      return {
        container: 'p-0.5',
        button: 'px-2 py-1 text-xs gap-1.5',
        icon: 'h-3 w-3',
      };
    case 'lg':
      return {
        container: 'p-1',
        button: 'px-4 py-2 text-base gap-2',
        icon: 'h-5 w-5',
      };
    default:
      return {
        container: 'p-0.5',
        button: 'px-3 py-1.5 text-sm gap-2',
        icon: 'h-4 w-4',
      };
  }
};</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/theme/horizontal-theme-toggle-simple.tsx (Line 144:7 - Line 156:64), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/theme/vercel-theme-toggle-simple.tsx (Line 97:2 - Line 109:80)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup55"><code class="language-typescript text-sm text-gray-800">}
    &gt;
      {THEME_OPTIONS.map((themeOption) =&gt; {
        const Icon = themeOption.icon;
        const isActive = activeTheme === themeOption.value;
        const label = t(themeOption.labelKey);
        const ariaLabel = t(themeOption.ariaLabelKey);

        return (
          &lt;button
            key={themeOption.value}
            className={cn(
              'flex items-center justify-center rounded-md transition-colors'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/performance/web-vitals-indicator.tsx (Line 60:5 - Line 86:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/performance/web-vitals-monitor.tsx (Line 14:5 - Line 40:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup56"><code class="language-typescript text-sm text-gray-800">// å®šæœŸå‘é€æ€§èƒ½æŠ¥å‘Šï¼ˆæ¯5åˆ†é’Ÿï¼‰
    const reportInterval = setInterval(() =&gt; {
      webVitalsMonitor.sendReport();
    }, MONITORING_INTERVALS.REPORT_SEND);

    // é¡µé¢å¯è§æ€§å˜åŒ–æ—¶å‘é€æŠ¥å‘Š
    const handleVisibilityChange = () =&gt; {
      if (document.visibilityState === 'hidden') {
        webVitalsMonitor.sendReport();
      }
    };

    // é¡µé¢å¸è½½å‰å‘é€æœ€ç»ˆæŠ¥å‘Š
    const handleBeforeUnload = () =&gt; {
      webVitalsMonitor.sendReport();
    };

    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
    document.addEventListener('visibilitychange', handleVisibilityChange);
    window.addEventListener('beforeunload', handleBeforeUnload);

    // ç»„ä»¶æŒ‚è½½æ—¶å‘é€åˆå§‹æŠ¥å‘Š
    webVitalsMonitor.sendReport();

    // æ¸…ç†å‡½æ•°
    return () =&gt; {
      clearInterval(updateInterval</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/main-navigation.tsx (Line 56:9 - Line 71:74), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/mobile-navigation.tsx (Line 98:17 - Line 114:92)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup57"><code class="language-typescript text-sm text-gray-800">.map((item) =&gt; {
          const isActive = isActivePath(pathname, item.href);
          return (
            &lt;Link
              key={item.key}
              href={
                item.href as
                  | '/'
                  | '/about'
                  | '/contact'
                  | '/blog'
                  | '/products'
                  | '/diagnostics'
              }
              className={cn(
                'rounded-md px-3 py-2 text-sm font-medium transition-colors duration-200'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/home/project-overview.tsx (Line 173:3 - Line 189:37), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/home/project-overview.tsx (Line 148:9 - Line 164:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup58"><code class="language-typescript text-sm text-gray-800">.technologies.map((tech) =&gt; (
                &lt;Badge
                  key={tech}
                  variant='outline'
                  className='text-xs'
                &gt;
                  {tech}
                &lt;/Badge&gt;
              ))}
            &lt;/div&gt;
          &lt;/CardContent&gt;
        &lt;/Card&gt;

        &lt;Card&gt;
          &lt;CardHeader&gt;
            &lt;CardTitle className='flex items-center gap-2'&gt;
              &lt;div className='h-3 w-3 rounded-full bg-purple-500'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/home/component-showcase.tsx (Line 41:5 - Line 59:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/home/project-overview.tsx (Line 225:8 - Line 243:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup59"><code class="language-typescript text-sm text-gray-800">&gt;
      &lt;div className='container mx-auto px-4'&gt;
        &lt;div
          ref={ref}
          className={`mx-auto max-w-6xl transition-all duration-700 ease-out ${
            isVisible ? 'translate-y-0 opacity-100' : 'translate-y-8 opacity-0'
          }`}
        &gt;
          {/* æ ‡é¢˜ */}
          &lt;div className='mb-12 text-center'&gt;
            &lt;h2 className='mb-4 text-3xl font-bold tracking-tight sm:text-4xl'&gt;
              {t('title')}
            &lt;/h2&gt;
            &lt;p className='text-muted-foreground mx-auto max-w-2xl text-lg'&gt;
              {t('subtitle')}
            &lt;/p&gt;
          &lt;/div&gt;

          &lt;Tabs</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/examples/ui-showcase.tsx (Line 70:7 - Line 104:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/examples/ui-showcase/implementation-summary.tsx (Line 8:5 - Line 42:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup60"><code class="language-typescript text-sm text-gray-800">&lt;Card&gt;
        &lt;CardHeader&gt;
          &lt;CardTitle&gt;Implementation Summary&lt;/CardTitle&gt;
        &lt;/CardHeader&gt;
        &lt;CardContent className='space-y-4'&gt;
          &lt;div className='grid grid-cols-1 gap-4 md:grid-cols-2'&gt;
            &lt;div&gt;
              &lt;h4 className='font-semibold text-green-600'&gt;
                âœ… Successfully Implemented
              &lt;/h4&gt;
              &lt;ul className='mt-2 space-y-1 text-sm'&gt;
                &lt;li&gt;â€¢ Sonner toast notifications&lt;/li&gt;
                &lt;li&gt;â€¢ @tailwindcss/typography&lt;/li&gt;
                &lt;li&gt;â€¢ Embla Carousel component&lt;/li&gt;
                &lt;li&gt;â€¢ @bprogress/next progress bar&lt;/li&gt;
                &lt;li&gt;â€¢ Theme system integration&lt;/li&gt;
                &lt;li&gt;â€¢ Internationalization support&lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;
            &lt;div&gt;
              &lt;h4 className='font-semibold text-blue-600'&gt;
                ğŸ“Š Performance Impact
              &lt;/h4&gt;
              &lt;ul className='mt-2 space-y-1 text-sm'&gt;
                &lt;li&gt;â€¢ Typography: ~8KB&lt;/li&gt;
                &lt;li&gt;â€¢ Sonner: ~15KB&lt;/li&gt;
                &lt;li&gt;â€¢ Progress Bar: ~3KB&lt;/li&gt;
                &lt;li&gt;â€¢ Carousel: 0KB (existing)&lt;/li&gt;
                &lt;li&gt;â€¢ Total: ~26KB added&lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/CardContent&gt;
      &lt;/Card&gt;
    &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-provider.tsx (Line 242:22 - Line 260:24), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-provider.tsx (Line 188:19 - Line 206:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup61"><code class="language-typescript text-sm text-gray-800">() {
  const { registerTool, unregisterTool, getClasses } = {
    registerTool: (_toolId: string) =&gt; {
      // å ä½ç¬¦ï¼šå·¥å…·æ³¨å†Œæ¥å£ï¼Œå®é™…å®ç°ç”±å¸ƒå±€ç®¡ç†å™¨æä¾›
    },
    unregisterTool: (_toolId: string) =&gt; {
      // å ä½ç¬¦ï¼šå·¥å…·æ³¨é”€æ¥å£ï¼Œå®é™…å®ç°ç”±å¸ƒå±€ç®¡ç†å™¨æä¾›
    },
    getClasses: () =&gt; '',
  };

  // æ£€æŸ¥æ˜¯å¦æ˜ç¡®ç¦ç”¨
  const explicitlyDisabled =
    process.env.NEXT_PUBLIC_DISABLE_REACT_SCAN === 'true';

  // æ³¨å†Œå·¥å…·åˆ°å¸ƒå±€ç®¡ç†å™¨ - å§‹ç»ˆè°ƒç”¨ Hook
  useEffect(() =&gt; {
    if (!explicitlyDisabled &amp;&amp; process.env.NODE_ENV === 'development') {
      registerTool('reactScanControlPanel'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-provider.tsx (Line 261:24 - Line 282:50), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-provider.tsx (Line 207:21 - Line 228:88)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup62"><code class="language-typescript text-sm text-gray-800">);
    }
    return undefined;
  }, [explicitlyDisabled, registerTool, unregisterTool]);

  // ç”Ÿäº§ç¯å¢ƒä¸æ˜¾ç¤º
  if (process.env.NODE_ENV === 'production') {
    return null;
  }

  // éå¼€å‘ç¯å¢ƒä¸æ˜¾ç¤º
  if (process.env.NODE_ENV !== 'development') {
    return null;
  }

  if (explicitlyDisabled) {
    return null;
  }

  return (
    &lt;div
      className={`${getClasses()} rounded-lg bg-gray-900 p-4 text-white shadow-xl`</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-analyzer-simple.tsx (Line 176:2 - Line 205:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/react-scan-analyzer/stats-table.tsx (Line 18:2 - Line 43:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup63"><code class="language-typescript text-sm text-gray-800">(
              &lt;div className='overflow-x-auto'&gt;
                &lt;table className='w-full border-collapse'&gt;
                  &lt;thead&gt;
                    &lt;tr className='border-b'&gt;
                      &lt;th className='p-2 text-left font-medium'&gt;ç»„ä»¶åç§°&lt;/th&gt;
                      &lt;th className='p-2 text-right font-medium'&gt;æ¸²æŸ“æ¬¡æ•°&lt;/th&gt;
                      &lt;th className='p-2 text-right font-medium'&gt;æ€»æ—¶é—´(ms)&lt;/th&gt;
                      &lt;th className='p-2 text-right font-medium'&gt;
                        å¹³å‡æ—¶é—´(ms)
                      &lt;/th&gt;
                      &lt;th className='p-2 text-right font-medium'&gt;æ•ˆç‡åˆ†æ•°&lt;/th&gt;
                    &lt;/tr&gt;
                  &lt;/thead&gt;
                  &lt;tbody&gt;
                    {componentStats.map((stat, index) =&gt; (
                      &lt;tr
                        key={`${stat.name}-${index}`}
                        className='hover:bg-muted/50 border-b'
                      &gt;
                        &lt;td className='p-2 font-mono text-sm'&gt;{stat.name}&lt;/td&gt;
                        &lt;td className='p-2 text-right'&gt;{stat.renderCount}&lt;/td&gt;
                        &lt;td className='p-2 text-right'&gt;
                          {stat.renderTime.toFixed(2)}
                        &lt;/td&gt;
                        &lt;td className='p-2 text-right'&gt;
                          {stat.avgRenderTime.toFixed(2)}
                        &lt;/td&gt;
                        &lt;td className='p-2 text-right'&gt;
                          &lt;Badge</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/collapsible-dev-tool.tsx (Line 110:2 - Line 126:13), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/dev-tools/collapsible-dev-tool.tsx (Line 32:3 - Line 48:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup64"><code class="language-typescript text-sm text-gray-800">);

  // æ³¨å†Œå·¥å…·åˆ°å¸ƒå±€ç®¡ç†å™¨ - å§‹ç»ˆè°ƒç”¨ Hook
  useEffect(() =&gt; {
    if (process.env.NODE_ENV === 'development') {
      registerTool(toolId);
      return () =&gt; unregisterTool(toolId);
    }
    return undefined;
  }, [toolId, registerTool, unregisterTool]);

  // åªåœ¨å¼€å‘ç¯å¢ƒæ˜¾ç¤º
  if (process.env.NODE_ENV !== 'development') {
    return null;
  }

  const statusColors</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-webhook-types.ts (Line 241:33 - Line 284:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/types/whatsapp-webhook-types.ts (Line 89:63 - Line 132:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup65"><code class="language-typescript text-sm text-gray-800">;

// ==================== å‘åå…¼å®¹çš„ç±»å‹åˆ«å ====================

/**
 * å‘åå…¼å®¹çš„ç±»å‹åˆ«å
 * Backward compatible type aliases
 */
export type {
  // åŸºç¡€ç±»å‹
  WebhookPayload as Webhook,
  WebhookEntry as Entry,
  MessageStatusUpdate as StatusUpdate,
  WebhookError as Error,

  // æ¶ˆæ¯ç±»å‹
  IncomingWhatsAppMessage as IncomingMessage,
  IncomingTextMessage as TextMessage,
  IncomingImageMessage as ImageMessage,
  IncomingDocumentMessage as DocumentMessage,
  IncomingAudioMessage as AudioMessage,
  IncomingVideoMessage as VideoMessage,
  IncomingLocationMessage as LocationMessage,
  IncomingContactsMessage as ContactsMessage,
  IncomingInteractiveMessage as InteractiveMessage,
  IncomingReactionMessage as ReactionMessage,
  IncomingStickerMessage as StickerMessage,

  // äº‹ä»¶ç±»å‹
  MessageReceivedEvent as MessageEvent,
  MessageStatusEvent as StatusEvent,
  WebhookErrorEvent as ErrorEvent,
  WebhookEvent as Event,

  // é…ç½®ç±»å‹
  WebhookConfig as Config,
  WebhookSubscription as Subscription,
  WebhookProcessor as Processor,
  WebhookProcessingResult as ProcessingResult,

  // éªŒè¯ç±»å‹
  WebhookVerificationRequest as VerificationRequest,
  WebhookVerificationResponse as VerificationResponse,
};</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-webhook-base.ts (Line 366:1 - Line 377:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-webhook-utils/functions.ts (Line 20:1 - Line 31:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup66"><code class="language-typescript text-sm text-gray-800">export function isWebhookVerificationRequest(
  query: unknown,
): query is WebhookVerificationRequest {
  return Boolean(
    query &amp;&amp;
      typeof query === 'object' &amp;&amp;
      'hub.mode' in query &amp;&amp;
      'hub.challenge' in query &amp;&amp;
      'hub.verify_token' in query &amp;&amp;
      (query as Record&lt;string, unknown&gt;)['hub.mode'] === 'subscribe',
  );
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-template-types.ts (Line 21:2 - Line 37:28), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-api-requests/message-requests.ts (Line 58:7 - Line 72:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup67"><code class="language-typescript text-sm text-gray-800">;
  image?: {
    id?: string;
    link?: string;
  };
  document?: {
    id?: string;
    link?: string;
    filename?: string;
  };
  video?: {
    id?: string;
    link?: string;
  };
}

// Template Component Types</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-service-types.ts (Line 181:24 - Line 219:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/types/whatsapp-service-types.ts (Line 143:18 - Line 181:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup68"><code class="language-typescript text-sm text-gray-800">,
};

// ==================== ä¾¿æ·å·¥å‚å‡½æ•° ====================

/**
 * åˆ›å»ºé»˜è®¤é…ç½®
 * Create default configuration
 */
export function createDefaultConfig(): WhatsAppConfig {
  return {
    accessToken: '',
    phoneNumberId: '',
    verifyToken: '',
    apiVersion: 'v18.0',
  };
}

/**
 * åˆ›å»ºé»˜è®¤æœåŠ¡é€‰é¡¹
 * Create default service options
 */
export function createDefaultServiceOptions(): Required&lt;WhatsAppServiceOptions&gt; {
  return { ...DEFAULT_SERVICE_OPTIONS };
}

/**
 * åˆ›å»ºé»˜è®¤æœåŠ¡çŠ¶æ€
 * Create default service status
 */
export function createDefaultServiceStatus(): ServiceStatus {
  return {
    isInitialized: false,
    isConnected: false,
    lastActivity: Date.now(),
    health: {
      status: 'healthy',
      lastCheck: Date.now(),
      responseTime: ZERO</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-service-interface.ts (Line 400:1 - Line 434:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-service-types.ts (Line 211:1 - Line 245:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup69"><code class="language-typescript text-sm text-gray-800">export function createDefaultServiceStatus(): ServiceStatus {
  return {
    isInitialized: false,
    isConnected: false,
    lastActivity: Date.now(),
    health: {
      status: 'healthy',
      lastCheck: Date.now(),
      responseTime: ZERO,
      errorRate: ZERO,
      uptime: PERCENTAGE_FULL,
      details: {
        api: 'available',
        webhook: 'not_configured',
        phoneNumber: 'unverified',
      },
    },
    metrics: {
      messagesSent: ZERO,
      messagesDelivered: ZERO,
      messagesRead: ZERO,
      messagesFailed: ZERO,
      apiCalls: ZERO,
      apiErrors: ZERO,
      averageResponseTime: ZERO,
      uptime: PERCENTAGE_FULL,
      lastReset: Date.now(),
    },
    config: {
      phoneNumberId: '',
      apiVersion: 'v18.0',
      webhookConfigured: false,
    },
  };
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-message-types.ts (Line 113:2 - Line 131:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-api-requests/message-requests.ts (Line 56:2 - Line 72:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup70"><code class="language-typescript text-sm text-gray-800">{
  type: 'text' | 'image' | 'document' | 'video';
  text?: string;
  image?: {
    id?: string;
    link?: string;
  };
  document?: {
    id?: string;
    link?: string;
    filename?: string;
  };
  video?: {
    id?: string;
    link?: string;
  };
}

export</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-api-types.ts (Line 11:1 - Line 46:30), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/types/whatsapp-api-types.ts (Line 3:1 - Line 38:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup71"><code class="language-typescript text-sm text-gray-800">import type {
  ANALYTICS_GRANULARITIES,
  ANALYTICS_METRIC_TYPES,
  AnalyticsGranularity,
  AnalyticsMetricType,
  API_ENDPOINTS,
  API_VERSIONS,
  ApiConfig,
  ApiEndpoint,
  ApiVersion,
  ClientConfig,
  ConfigUtils,
  DEFAULT_API_CONFIG,
  DEFAULT_REQUEST_OPTIONS,
  DEFAULT_WEBHOOK_CONFIG,
  EnvironmentConfig,
  ERROR_CODE_MESSAGES,
  ErrorCode,
  ExtendedApiConfig,
  HTTP_METHODS,
  HttpMethod,
  MEDIA_TYPES,
  MediaType,
  MESSAGE_TYPES,
  MessageType,
  QUALITY_RATINGS,
  QualityRating,
  RETRYABLE_ERROR_CODES,
  TEMPLATE_CATEGORIES,
  TEMPLATE_STATUSES,
  TemplateCategory,
  TemplateStatusType,
  THROUGHPUT_LEVELS,
  ThroughputLevel,
  WebhookConfig,
} from '@/types/whatsapp-api-config'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/types/whatsapp-api-types.ts (Line 238:30 - Line 290:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/types/whatsapp-api-types.ts (Line 130:60 - Line 182:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup72"><code class="language-typescript text-sm text-gray-800">;

// ==================== å‘åå…¼å®¹çš„ç±»å‹åˆ«å ====================

/**
 * å‘åå…¼å®¹çš„ç±»å‹åˆ«å
 * Backward compatible type aliases
 */
export type {
  // è¯·æ±‚ç±»å‹
  SendMessageRequest as SendRequest,
  MediaUploadRequest as UploadRequest,
  AnalyticsRequest as AnalyticsReq,
  BatchRequest as BatchReq,
  ApiRequest as Request,
  ApiRequestOptions as RequestOptions,

  // å“åº”ç±»å‹
  SendMessageResponse as SendResponse,
  WhatsAppApiResponse as ApiResponse,
  WhatsAppServiceResponse as ServiceResponse,
  MediaUploadResponse as UploadResponse,
  MediaRetrieveResponse as RetrieveResponse,
  PhoneNumbersResponse as PhoneNumbersResp,
  BusinessProfileResponse as BusinessProfileResp,
  TemplatesResponse as TemplatesResp,
  AnalyticsResponse as AnalyticsResp,
  BatchResponse as BatchResp,
  ApiResponse as Response,

  // é…ç½®ç±»å‹
  ApiConfig as Config,
  ExtendedApiConfig as ExtendedConfig,
  WebhookConfig as WebhookConf,
  ClientConfig as ClientConf,

  // é”™è¯¯ç±»å‹
  WhatsAppApiError as ApiError,
  WhatsAppApiErrorResponse as ErrorResponse,
  WhatsAppError as Error,
  NetworkError as NetError,
  ValidationError as ValidError,
  AuthenticationError as AuthError,
  RateLimitError as RateLimitErr,
  BusinessLogicError as BusinessError,
  ServerError as ServError,

  // å·¥å…·ç±»å‹
  ApiEndpoint as Endpoint,
  HttpMethod as Method,
  MessageType as MsgType,
  MediaType as MediaT,
  TemplateCategory,</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/test/utils.tsx (Line 7:2 - Line 309:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/test/utils.tsx (Line 7:2 - Line 309:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup73"><code class="language-typescript text-sm text-gray-800">RenderOptions } from '@testing-library/react';
import { vi } from 'vitest';

// import { ThemeProvider } from 'next-themes';

// æµ‹è¯•å¸¸é‡å®šä¹‰
const HTTP_STATUS = {
  OK: 200,
  CLIENT_ERROR_MIN: 200,
  CLIENT_ERROR_MAX: 300,
} as const;

// å›½é™…åŒ–Provider Mock
const MockIntlProvider = ({
  children,
  locale = 'en',
}: {
  children: React.ReactNode;
  locale?: string;
}) =&gt; {
  return (
    &lt;div
      data-testid='intl-provider'
      data-locale={locale}
    &gt;
      {children}
    &lt;/div&gt;
  );
};

// ä¸»é¢˜Provideré…ç½®
interface ThemeProviderProps {
  children: React.ReactNode;
  theme?: string;
  themes?: string[];
}

const MockThemeProvider = ({
  children,
  theme = 'light',
  themes = ['light', 'dark', 'system'],
}: ThemeProviderProps) =&gt; {
  return (
    &lt;div
      data-testid='theme-provider'
      data-theme={theme}
      data-themes={themes.join(',')}
    &gt;
      {children}
    &lt;/div&gt;
  );
};

// æ‰€æœ‰Providerçš„ç»„åˆ
interface AllTheProvidersProps {
  children: React.ReactNode;
  locale?: string;
  theme?: string;
  themes?: string[];
}

const AllTheProviders = ({
  children,
  locale = 'en',
  theme = 'light',
  themes = ['light', 'dark', 'system'],
}: AllTheProvidersProps) =&gt; {
  return (
    &lt;MockIntlProvider locale={locale}&gt;
      &lt;MockThemeProvider
        theme={theme}
        themes={themes}
      &gt;
        {children}
      &lt;/MockThemeProvider&gt;
    &lt;/MockIntlProvider&gt;
  );
};

// è‡ªå®šä¹‰æ¸²æŸ“å‡½æ•°
interface CustomRenderOptions extends Omit&lt;RenderOptions, 'wrapper'&gt; {
  locale?: string;
  theme?: string;
  themes?: string[];
  wrapper?: React.ComponentType&lt;unknown&gt;;
}

const customRender = (
  ui: React.ReactElement,
  options: CustomRenderOptions = {},
) =&gt; {
  const {
    locale = 'en',
    theme = 'light',
    themes = ['light', 'dark', 'system'],
    wrapper,
    ...renderOptions
  } = options;

  const Wrapper =
    wrapper ||
    (({ children }: { children: React.ReactNode }) =&gt; (
      &lt;AllTheProviders
        locale={locale}
        theme={theme}
        themes={themes}
      &gt;
        {children}
      &lt;/AllTheProviders&gt;
    ));

  return render(ui, { wrapper: Wrapper, ...renderOptions });
};

// å›½é™…åŒ–æµ‹è¯•å·¥å…·
export const createMockTranslations = (
  translations: Record&lt;string, string&gt;,
) =&gt; {
  return vi.fn((key: string) =&gt; {
    const safeTranslations = new Map(Object.entries(translations));
    return safeTranslations.get(key) || key;
  });
};

// ä¸»é¢˜æµ‹è¯•å·¥å…·
export const createMockTheme = (theme: string = 'light') =&gt; {
  return {
    theme,
    setTheme: vi.fn(),
    resolvedTheme: theme,
    themes: ['light', 'dark', 'system'],
    systemTheme: 'light',
  };
};

// è·¯ç”±æµ‹è¯•å·¥å…·
export const createMockRouter = (overrides: Record&lt;string, unknown&gt; = {}) =&gt; {
  return {
    route: '/',
    pathname: '/',
    query: {},
    asPath: '/',
    push: vi.fn(),
    replace: vi.fn(),
    reload: vi.fn(),
    back: vi.fn(),
    prefetch: vi.fn().mockResolvedValue(undefined),
    beforePopState: vi.fn(),
    events: {
      on: vi.fn(),
      off: vi.fn(),
      emit: vi.fn(),
    },
    isFallback: false,
    ...overrides,
  };
};

// ç”¨æˆ·äº‹ä»¶æ¨¡æ‹Ÿå·¥å…·
export const createUserEventMocks = () =&gt; {
  return {
    click: vi.fn(),
    type: vi.fn(),
    keyboard: vi.fn(),
    hover: vi.fn(),
    unhover: vi.fn(),
    tab: vi.fn(),
    clear: vi.fn(),
    selectOptions: vi.fn(),
    deselectOptions: vi.fn(),
    upload: vi.fn(),
    paste: vi.fn(),
  };
};

// å¯è®¿é—®æ€§æµ‹è¯•å·¥å…·
export const createAccessibilityMocks = () =&gt; {
  return {
    // é«˜å¯¹æ¯”åº¦æ¨¡å¼
    highContrast: vi.fn().mockImplementation((query: string) =&gt; ({
      matches: query.includes('prefers-contrast: high'),
      media: query,
      onchange: null,
      addListener: vi.fn(),
      removeListener: vi.fn(),
      addEventListener: vi.fn(),
      removeEventListener: vi.fn(),
      dispatchEvent: vi.fn(),
    })),

    // å‡å°‘åŠ¨ç”»
    reducedMotion: vi.fn().mockImplementation((query: string) =&gt; ({
      matches: query.includes('prefers-reduced-motion: reduce'),
      media: query,
      onchange: null,
      addListener: vi.fn(),
      removeListener: vi.fn(),
      addEventListener: vi.fn(),
      removeEventListener: vi.fn(),
      dispatchEvent: vi.fn(),
    })),
  };
};

// æ€§èƒ½æµ‹è¯•å·¥å…·
export const createPerformanceMocks = () =&gt; {
  return {
    now: vi.fn(() =&gt; Date.now()),
    mark: vi.fn(),
    measure: vi.fn(),
    getEntriesByType: vi.fn(() =&gt; []),
    getEntriesByName: vi.fn(() =&gt; []),
    clearMarks: vi.fn(),
    clearMeasures: vi.fn(),
  };
};

// ç½‘ç»œè¯·æ±‚Mockå·¥å…·
export const createFetchMock = (
  response: unknown = {},
  status: number = HTTP_STATUS.OK,
) =&gt; {
  return vi.fn().mockResolvedValue({
    ok:
      status &gt;= HTTP_STATUS.CLIENT_ERROR_MIN &amp;&amp;
      status &lt; HTTP_STATUS.CLIENT_ERROR_MAX,
    status,
    statusText: status === HTTP_STATUS.OK ? 'OK' : 'Error',
    json: vi.fn().mockResolvedValue(response),
    text: vi.fn().mockResolvedValue(JSON.stringify(response)),
    headers: new Headers(),
    clone: vi.fn(),
  });
};

// é”™è¯¯è¾¹ç•Œæµ‹è¯•å·¥å…·
export const createErrorBoundaryMock = () =&gt; {
  return class MockErrorBoundary extends React.Component&lt;
    { children: React.ReactNode },
    { hasError: boolean }
  &gt; {
    constructor(props: { children: React.ReactNode }) {
      super(props);
      this.state = { hasError: false };
    }

    static getDerivedStateFromError() {
      return { hasError: true };
    }

    override componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
      console.error('Error caught by boundary:', error, errorInfo);
    }

    override render() {
      if (this.state.hasError) {
        return &lt;div data-testid='error-boundary'&gt;Something went wrong.&lt;/div&gt;;
      }

      return this.props.children;
    }
  };
};

// ç­‰å¾…å·¥å…·å‡½æ•°
export const waitForNextTick = () =&gt;
  new Promise((resolve) =&gt; setTimeout(resolve, 0));

// æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨
export const generateTestData = {
  user: (overrides: Record&lt;string, unknown&gt; = {}) =&gt; ({
    id: '1',
    name: 'Test User',
    email: 'test@example.com',
    role: 'user',
    ...overrides,
  }),

  post: (overrides: Record&lt;string, unknown&gt; = {}) =&gt; ({
    id: '1',
    title: 'Test Post',
    content: 'Test content',
    author: 'Test Author',
    createdAt: new Date().toISOString(),
    ...overrides,
  }),

  translation: (overrides: Record&lt;string, string&gt; = {}) =&gt; ({
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'nav.home': 'Home',
    'nav.about': 'About',
    ...overrides,
  }),
};

// é‡æ–°å¯¼å‡ºrenderå‡½æ•°
export { customRender as render };

// é‡æ–°å¯¼å‡ºtesting-libraryçš„æ‰€æœ‰å·¥å…·
export * from '@testing-library/react';
export { vi } from 'vitest';</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/test/mock-templates.tsx (Line 229:35 - Line 239:23), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/test/utils.tsx (Line 187:25 - Line 293:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup74"><code class="language-typescript text-sm text-gray-800">),
      media: query,
      onchange: null,
      addListener: vi.fn(),
      removeListener: vi.fn(),
      addEventListener: vi.fn(),
      removeEventListener: vi.fn(),
      dispatchEvent: vi.fn(),
    }));

    // Navigation API Mock</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/test/browser-setup.ts (Line 175:2 - Line 184:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/test/browser-setup.ts (Line 16:6 - Line 26:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup75"><code class="language-typescript text-sm text-gray-800">,
        onchange: null,
        addListener: () =&gt; {},
        removeListener: () =&gt; {},
        addEventListener: () =&gt; {},
        removeEventListener: () =&gt; {},
        dispatchEvent: () =&gt; {},
      }),
    });
  }</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/whatsapp-media.ts (Line 162:2 - Line 171:27), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/whatsapp-media.ts (Line 24:2 - Line 33:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup76"><code class="language-typescript text-sm text-gray-800">| null&gt; {
    try {
      const response = await fetch(`${this.baseUrl}/${mediaId}`, {
        headers: {
          Authorization: `Bearer ${this.accessToken}`,
        },
      });

      if (!response.ok) {
        throw new Error('Failed to get media info'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/whatsapp-core.ts (Line 91:3 - Line 101:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/whatsapp-messages.ts (Line 203:3 - Line 213:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup77"><code class="language-typescript text-sm text-gray-800">sendListMessage(args: {
    to: string;
    bodyText: string;
    buttonText: string;
    sections: Array&lt;{
      title?: string;
      rows: Array&lt;{ id: string; title: string; description?: string }&gt;;
    }&gt;;
    options?: { headerText?: string; footerText?: string };
  }): Promise&lt;WhatsAppServiceResponse&gt; {
    return</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/structured-data.ts (Line 146:2 - Line 157:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/structured-data.ts (Line 119:8 - Line 131:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup78"><code class="language-typescript text-sm text-gray-800">: {
      name: string;
      description: string;
      image?: string;
      price?: string | number;
      currency?: string;
      availability?: string;
      brand?: string;
      sku?: string;
    };
  },
): Promise&lt;Array</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/structured-data-helpers.ts (Line 193:10 - Line 219:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/structured-data.ts (Line 46:12 - Line 72:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup79"><code class="language-typescript text-sm text-gray-800">);
      case 'Article':
        return generateArticleData(t, locale, data as ArticleData);
      case 'Product':
        return generateProductData(t, data as ProductData);
      case 'BreadcrumbList':
        return generateBreadcrumbData(data as BreadcrumbData);
      default:
        // å¯¹äºæœªçŸ¥ç±»å‹ï¼Œè¿”å›åŸºç¡€ç»“æ„è€Œä¸ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
        return {
          '@context': 'https://schema.org',
          '@type': type,
        };
    }
  } catch (error) {
    // è®°å½•é”™è¯¯å¹¶è¿”å›åŸºç¡€ç»“æ„
    if (error instanceof Error) {
      // å¤„ç†å·²çŸ¥é”™è¯¯ç±»å‹
      I18nPerformanceMonitor.recordError();
    }
    // é”™è¯¯æƒ…å†µä¸‹ä¹Ÿä¸ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œé¿å…æ½œåœ¨çš„å®‰å…¨é£é™©
    return {
      '@context': 'https://schema.org',
      '@type': type,
    };
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security-validation.ts (Line 20:1 - Line 31:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security.ts (Line 110:1 - Line 121:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup80"><code class="language-typescript text-sm text-gray-800">export function sanitizeInput(input: string): string {
  if (typeof input !== 'string') {
    return '';
  }

  return input
    .replace(/[&lt;&gt;]/g, '') // Remove angle brackets
    .replace(/javascript:/gi, '') // Remove javascript: protocol
    .replace(/on\w+=/gi, '') // Remove event handlers
    .replace(/data:/gi, '') // Remove data: protocol
    .trim();
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security-tokens.ts (Line 162:39 - Line 171:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security-tokens.ts (Line 136:13 - Line 145:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup81"><code class="language-typescript text-sm text-gray-800">;
  let result = '';

  if (typeof crypto !== 'undefined' &amp;&amp; crypto.getRandomValues) {
    const array = new Uint8Array(length);
    crypto.getRandomValues(array);

    const dv = new DataView(array.buffer);
    for (let i = ZERO; i &lt; length; i++) {
      const idx = dv.getUint8(i) % chars</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security-crypto.ts (Line 134:10 - Line 148:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security-crypto.ts (Line 116:10 - Line 130:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup82"><code class="language-typescript text-sm text-gray-800">, dataBytes);
  const hashArray = Array.from(new Uint8Array(hashBuffer));

  return hashArray
    .map((b) =&gt;
      b
        .toString(CRYPTO_CONSTANTS.HEX_BASE)
        .padStart(CRYPTO_CONSTANTS.HEX_PAD_LENGTH, '0'),
    )
    .join('');
}

/**
 * Generate HMAC signature
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security-crypto.ts (Line 294:3 - Line 315:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/security-crypto.ts (Line 208:2 - Line 229:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup83"><code class="language-typescript text-sm text-gray-800">);

  // Derive key from password
  const passwordKey = await crypto.subtle.importKey(
    'raw',
    encoder.encode(password),
    'PBKDF2',
    false,
    ['deriveKey'],
  );

  const key = await crypto.subtle.deriveKey(
    {
      name: 'PBKDF2',
      salt,
      iterations: COUNT_100000,
      hash: 'SHA-256',
    },
    passwordKey,
    { name: 'AES-GCM', length: COUNT_256 },
    false,
    ['decrypt'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/performance-monitoring-integrations-bundle.ts (Line 109:29 - Line 117:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/performance-monitoring-integrations-react-scan.ts (Line 120:24 - Line 128:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup84"><code class="language-typescript text-sm text-gray-800">(config: PerformanceConfig): {
  isValid: boolean;
  errors: string[];
  warnings: string[];
} {
  const errors: string[] = [];
  const warnings: string[] = [];

  if (!config.bundleAnalyzer</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/performance-monitoring-core.ts (Line 48:44 - Line 137:19), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/performance-monitoring-core.ts (Line 28:76 - Line 116:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup85"><code class="language-typescript text-sm text-gray-800">;

/**
 * æ€§èƒ½ç›‘æ§æ ¸å¿ƒåè°ƒå™¨ç±» - å‘åå…¼å®¹
 * Performance monitoring core coordinator class - Backward compatible
 */
export class PerformanceMonitoringCore {
  private configManager: PerformanceConfigManager;
  private metricsManager: PerformanceMetricsManager;
  private reportGenerator: PerformanceReportGenerator;
  private conflictChecker: PerformanceToolConflictChecker;

  constructor(customConfig?: Partial&lt;PerformanceConfig&gt;) {
    this.configManager = new PerformanceConfigManager(customConfig);
    this.metricsManager = new PerformanceMetricsManager(
      this.configManager.getConfig(),
    );
    this.reportGenerator = new PerformanceReportGenerator(
      this.configManager.getConfig(),
    );
    this.conflictChecker = new PerformanceToolConflictChecker();
  }

  /**
   * è®°å½•æ€§èƒ½æŒ‡æ ‡
   * Record performance metric
   */
  recordMetric(metric: Omit&lt;PerformanceMetrics, 'timestamp'&gt;): void {
    this.metricsManager.recordMetric(metric);
  }

  /**
   * è·å–é…ç½®
   * Get configuration
   */
  getConfig(): PerformanceConfig {
    return this.configManager.getConfig();
  }

  /**
   * æ›´æ–°é…ç½®
   * Update configuration
   */
  updateConfig(newConfig: Partial&lt;PerformanceConfig&gt;): void {
    this.configManager.updateConfig(newConfig);

    // æ›´æ–°æ‰€æœ‰ç®¡ç†å™¨çš„é…ç½®
    const updatedConfig = this.configManager.getConfig();
    this.metricsManager.updateConfig(updatedConfig);
    this.reportGenerator.updateConfig(updatedConfig);
  }

  /**
   * è·å–æŒ‡æ ‡
   * Get metrics
   */
  getMetrics(): PerformanceMetrics[] {
    return this.metricsManager.getAllMetrics();
  }

  /**
   * æŒ‰ç±»å‹è·å–æŒ‡æ ‡
   * Get metrics by type
   */
  getMetricsByType(type: PerformanceMetricType): PerformanceMetrics[] {
    return this.metricsManager.getMetricsByType(type);
  }

  /**
   * æŒ‰æ¥æºè·å–æŒ‡æ ‡
   * Get metrics by source
   */
  getMetricsBySource(source: PerformanceMetricSource): PerformanceMetrics[] {
    return this.metricsManager.getMetricsBySource(source);
  }

  /**
   * è·å–æŒ‡å®šæ—¶é—´çª—å£å†…çš„æŒ‡æ ‡
   * Get metrics within time window
   */
  getMetricsInTimeWindow(timeWindow: number): PerformanceMetrics[] {
    return this.metricsManager.getMetricsInTimeWindow(timeWindow);
  }

  /**
   * ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
   * Generate performance report
   */
  generateReport(
    timeWindow = SECONDS_PER_MINUTE</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/performance-monitoring-core.ts (Line 138:3 - Line 219:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/performance-monitoring-core.ts (Line 116:5 - Line 197:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup86"><code class="language-typescript text-sm text-gray-800">): PerformanceReport {
    const metrics = this.metricsManager.getAllMetrics();
    return this.reportGenerator.generateReport(metrics, timeWindow);
  }

  /**
   * ç”Ÿæˆè¯¦ç»†æ€§èƒ½æŠ¥å‘Š
   * Generate detailed performance report
   */
  generateDetailedReport(): ReturnType&lt;
    PerformanceReportGenerator['generateDetailedReport']
  &gt; {
    const metrics = this.metricsManager.getAllMetrics();
    return this.reportGenerator.generateDetailedReport(metrics);
  }

  /**
   * æ£€æŸ¥å·¥å…·å†²çª
   * Check tool conflicts
   */
  checkToolConflicts(): ToolConflictResult {
    return this.conflictChecker.checkToolConflicts();
  }

  /**
   * è·å–å·¥å…·è¯¦ç»†ä¿¡æ¯
   * Get tool details
   */
  getToolDetails(
    toolName: string,
  ): ReturnType&lt;PerformanceToolConflictChecker['getToolDetails']&gt; {
    return this.conflictChecker.getToolDetails(toolName);
  }

  /**
   * è·å–æŒ‡æ ‡ç»Ÿè®¡
   * Get metrics statistics
   */
  getMetricsStats(): ReturnType&lt;PerformanceMetricsManager['getMetricsStats']&gt; {
    return this.metricsManager.getMetricsStats();
  }

  /**
   * æ¸…ç©ºæ‰€æœ‰æŒ‡æ ‡
   * Clear all metrics
   */
  clearAllMetrics(): void {
    this.metricsManager.clearAllMetrics();
  }

  /**
   * å¯¼å‡ºæŒ‡æ ‡æ•°æ®
   * Export metrics data
   */
  exportMetrics(): ReturnType&lt;PerformanceMetricsManager['exportMetrics']&gt; {
    return this.metricsManager.exportMetrics();
  }

  /**
   * å¯¼å…¥æŒ‡æ ‡æ•°æ®
   * Import metrics data
   */
  importMetrics(data: PerformanceMetrics[], replace = false): number {
    return this.metricsManager.importMetrics(data, replace);
  }

  /**
   * é”€æ¯åè°ƒå™¨
   * Destroy coordinator
   */
  destroy(): void {
    this.metricsManager.destroy();
  }
}

// ==================== å‘åå…¼å®¹çš„ç±»å‹åˆ«å ====================

/**
 * å‘åå…¼å®¹çš„ç±»å‹åˆ«å
 * Backward compatible type aliases
 */
export type { PerformanceMonitoringCore as PerformanceCoordinator };</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/performance-monitoring-coordinator.ts (Line 84:37 - Line 178:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/performance-monitoring-coordinator.ts (Line 21:74 - Line 116:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup87"><code class="language-typescript text-sm text-gray-800">;

/**
 * æ€§èƒ½ç›‘æ§åè°ƒå™¨ - å‘åå…¼å®¹çš„ä¸»ç±»
 * Performance Monitoring Coordinator - Backward compatible main class
 */
export class PerformanceMonitoringCoordinator extends PerformanceMonitoringCore {
  constructor(customConfig?: Partial&lt;PerformanceConfig&gt;) {
    super(customConfig);
  }
}

// ==================== å…¨å±€å®ä¾‹å’Œä¾¿æ·å¯¼å‡º ====================

/**
 * å…¨å±€æ€§èƒ½ç›‘æ§åè°ƒå™¨å®ä¾‹
 * Global performance monitoring coordinator instance
 */
export const performanceCoordinator = new PerformanceMonitoringCoordinator();

// ==================== ä¾¿æ·å·¥å‚å‡½æ•° ====================

/**
 * åˆ›å»ºæ€§èƒ½ç›‘æ§åè°ƒå™¨å®ä¾‹
 * Create performance monitoring coordinator instance
 */
export function createPerformanceCoordinator(
  customConfig?: Partial&lt;PerformanceConfig&gt;,
): PerformanceMonitoringCoordinator {
  return new PerformanceMonitoringCoordinator(customConfig);
}

/**
 * è·å–é»˜è®¤ç¯å¢ƒé…ç½®
 * Get default environment configuration
 */
export function getDefaultConfig(): PerformanceConfig {
  return generateEnvironmentConfig();
}

// ==================== ä¾¿æ·é›†æˆé’©å­ ====================

/**
 * React Scan é›†æˆé’©å­ (å‘åå…¼å®¹)
 * React Scan integration hook (backward compatible)
 */
export function useReactScanIntegration() {
  const config = performanceCoordinator.getConfig();

  return {
    enabled: config.reactScan.enabled,
    recordRender: (componentName: string, renderCount: number) =&gt; {
      if (config.reactScan.enabled) {
        performanceCoordinator.recordMetric({
          source: 'react-scan',
          type: 'component',
          data: {
            componentName,
            renderCount,
            timestamp: Date.now(),
          },
        });
      }
    },
  };
}

/**
 * Web Eval Agent é›†æˆé’©å­ (å‘åå…¼å®¹)
 * Web Eval Agent integration hook (backward compatible)
 */
export function useWebEvalAgentIntegration() {
  const config = performanceCoordinator.getConfig();

  return {
    enabled: config.webEvalAgent.enabled,
    recordUserInteraction: (
      action: string,
      timing: number,
      success: boolean,
    ) =&gt; {
      if (config.webEvalAgent.enabled) {
        performanceCoordinator.recordMetric({
          source: 'web-eval-agent',
          type: 'user-interaction',
          data: {
            action,
            timing,
            success,
            timestamp: Date.now(),
          },
        });
      }
    },
    recordNetworkRequest: (params</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/performance-monitoring-coordinator.ts (Line 185:7 - Line 232:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/performance-monitoring-coordinator.ts (Line 121:7 - Line 168:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup88"><code class="language-typescript text-sm text-gray-800">if (config.webEvalAgent.enabled &amp;&amp; config.webEvalAgent.captureNetwork) {
        performanceCoordinator.recordMetric({
          source: 'web-eval-agent',
          type: 'network',
          data: {
            url,
            method,
            status,
            timing,
            timestamp: Date.now(),
          },
        });
      }
    },
  };
}

/**
 * ç¯å¢ƒæ£€æŸ¥å·¥å…· (å‘åå…¼å®¹)
 * Environment check tool (backward compatible)
 */
export function checkEnvironmentCompatibility(): {
  isCompatible: boolean;
  issues: string[];
  recommendations: string[];
} {
  const issues: string[] = [];
  const recommendations: string[] = [];

  // æ£€æŸ¥æµ‹è¯•ç¯å¢ƒé…ç½®
  if (process.env.PLAYWRIGHT_TEST === 'true') {
    if (process.env.NEXT_PUBLIC_DISABLE_REACT_SCAN !== 'true') {
      issues.push('æµ‹è¯•ç¯å¢ƒä¸­ React Scan æœªè¢«ç¦ç”¨');
      recommendations.push('è®¾ç½® NEXT_PUBLIC_DISABLE_REACT_SCAN=true');
    }
  }

  // æ£€æŸ¥å¼€å‘ç¯å¢ƒé…ç½®
  if (process.env.NODE_ENV === 'development') {
    if (process.env.NEXT_PUBLIC_DISABLE_REACT_SCAN === 'true') {
      recommendations.push(
        'å¼€å‘ç¯å¢ƒä¸­ React Scan è¢«ç¦ç”¨ï¼Œè€ƒè™‘å¯ç”¨ä»¥è·å¾—æ€§èƒ½ç›‘æ§',
      );
    }
  }

  return {
    isCompatible: issues.length === ZERO</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference.ts (Line 103:41 - Line 357:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-preference.ts (Line 68:71 - Line 318:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup89"><code class="language-typescript text-sm text-gray-800">;

/**
 * ç”¨æˆ·åå¥½ç®¡ç†å™¨ - å‘åå…¼å®¹ç±»
 * User preference manager - Backward compatible class
 */
export class LocalePreferenceManager {
  /**
   * ä¿å­˜ç”¨æˆ·è¯­è¨€åå¥½
   * Save user locale preference
   */
  static saveUserPreference(
    preference: UserLocalePreference,
  ): StorageOperationResult&lt;UserLocalePreference&gt; {
    const result = saveUserPreference(preference);

    if (result.success &amp;&amp; result.data) {
      PreferenceEventManager.emitEvent(
        createPreferenceSavedEvent(result.data, result.source || 'unknown'),
      );
      recordPreferenceHistory(result.data);
    } else {
      PreferenceEventManager.emitEvent(
        createPreferenceErrorEvent(
          'saveUserPreference',
          result.error || 'Unknown error',
        ),
      );
    }

    return result;
  }

  /**
   * è·å–ç”¨æˆ·è¯­è¨€åå¥½
   * Get user locale preference
   */
  static getUserPreference(): StorageOperationResult&lt;UserLocalePreference&gt; {
    const result = getUserPreference();

    if (result.success &amp;&amp; result.data) {
      PreferenceEventManager.emitEvent(
        createPreferenceLoadedEvent(result.data, result.source || 'unknown'),
      );
    } else {
      PreferenceEventManager.emitEvent(
        createPreferenceErrorEvent(
          'getUserPreference',
          result.error || 'Unknown error',
        ),
      );
    }

    return result;
  }

  /**
   * è®¾ç½®ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©çš„è¯­è¨€
   * Set user manually selected locale
   */
  static setUserOverride(
    locale: Locale,
    metadata?: Record&lt;string, unknown&gt;,
  ): StorageOperationResult&lt;UserLocalePreference&gt; {
    const result = setUserOverride(locale, metadata);

    if (result.success) {
      PreferenceEventManager.emitEvent(
        createOverrideSetEvent(locale, metadata),
      );
    } else {
      PreferenceEventManager.emitEvent(
        createPreferenceErrorEvent(
          'setUserOverride',
          result.error || 'Unknown error',
        ),
      );
    }

    return result;
  }

  /**
   * è·å–ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©çš„è¯­è¨€
   * Get user manually selected locale
   */
  static getUserOverride(): StorageOperationResult&lt;Locale&gt; {
    return getUserOverride();
  }

  /**
   * æ¸…é™¤ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©
   * Clear user manual selection
   */
  static clearUserOverride(): StorageOperationResult&lt;void&gt; {
    const result = clearUserOverride();

    if (result.success) {
      PreferenceEventManager.emitEvent(createOverrideClearedEvent());
    } else {
      PreferenceEventManager.emitEvent(
        createPreferenceErrorEvent(
          'clearUserOverride',
          result.error || 'Unknown error',
        ),
      );
    }

    return result;
  }

  /**
   * æ›´æ–°åå¥½çš„ç½®ä¿¡åº¦
   * Update preference confidence
   */
  static updatePreferenceConfidence(
    confidence: number,
  ): StorageOperationResult&lt;UserLocalePreference&gt; {
    return updatePreferenceConfidence(confidence);
  }

  /**
   * è·å–åå¥½å†å²
   * Get preference history
   */
  static getPreferenceHistory(): UserLocalePreference[] {
    return getPreferenceHistory();
  }

  /**
   * æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
   * Add event listener
   */
  static addEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    PreferenceEventManager.addEventListener(eventType, listener);
  }

  /**
   * ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
   * Remove event listener
   */
  static removeEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    PreferenceEventManager.removeEventListener(eventType, listener);
  }

  /**
   * ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨
   * Remove all event listeners
   */
  static removeAllListeners(): void {
    PreferenceEventManager.removeAllListeners();
  }

  /**
   * æ£€æŸ¥æ˜¯å¦æœ‰ç”¨æˆ·åå¥½
   * Check if user preference exists
   */
  static hasUserPreference(): boolean {
    return hasUserPreference();
  }

  /**
   * æ£€æŸ¥æ˜¯å¦æœ‰ç”¨æˆ·è¦†ç›–
   * Check if user override exists
   */
  static hasUserOverride(): boolean {
    return hasUserOverride();
  }

  /**
   * è·å–åå¥½æ‘˜è¦
   * Get preference summary
   */
  static getPreferenceSummary(): ReturnType&lt;typeof getPreferenceSummary&gt; {
    return getPreferenceSummary();
  }

  /**
   * åŒæ­¥åå¥½æ•°æ®
   * Sync preference data
   */
  static syncPreferenceData(): ReturnType&lt;typeof syncPreferenceData&gt; {
    const result = syncPreferenceData();

    if (result.success &amp;&amp; result.data) {
      PreferenceEventManager.emitEvent(
        createSyncEvent(result.data.synced, result.data),
      );
    }

    return result;
  }

  /**
   * æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§
   * Check data consistency
   */
  static checkDataConsistency(): ReturnType&lt;typeof checkDataConsistency&gt; {
    return checkDataConsistency();
  }

  /**
   * ä¿®å¤æ•°æ®ä¸ä¸€è‡´
   * Fix data inconsistency
   */
  static fixDataInconsistency(): ReturnType&lt;typeof fixDataInconsistency&gt; {
    return fixDataInconsistency();
  }

  /**
   * è·å–å­˜å‚¨ä½¿ç”¨æƒ…å†µ
   * Get storage usage
   */
  static getStorageUsage(): ReturnType&lt;typeof getStorageUsage&gt; {
    return getStorageUsage();
  }

  /**
   * ä¼˜åŒ–å­˜å‚¨æ€§èƒ½
   * Optimize storage performance
   */
  static optimizeStoragePerformance(): ReturnType&lt;
    typeof optimizeStoragePerformance
  &gt; {
    return optimizeStoragePerformance();
  }

  /**
   * è·å–è¦†ç›–ç»Ÿè®¡
   * Get override statistics
   */
  static getOverrideStats(): ReturnType&lt;typeof getOverrideStats&gt; {
    return getOverrideStats();
  }

  /**
   * è·å–åå¥½å˜åŒ–ç»Ÿè®¡
   * Get preference change statistics
   */
  static getPreferenceChangeStats(): ReturnType&lt;
    typeof getPreferenceChangeStats
  &gt; {
    return getPreferenceChangeStats();
  }

  /**
   * éªŒè¯åå¥½æ•°æ®
   * Validate preference data
   */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 171:7 - Line 188:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 118:25 - Line 135:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup90"><code class="language-typescript text-sm text-gray-800">,
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * æ£€æŸ¥æ˜¯å¦æœ‰ç”¨æˆ·è¦†ç›–
 * Check if user override exists
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 336:19 - Line 349:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 250:2 - Line 263:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup91"><code class="language-typescript text-sm text-gray-800">);

    return {
      success: true,
      data: undefined,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      timestamp</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 341:15 - Line 358:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 118:25 - Line 135:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup92"><code class="language-typescript text-sm text-gray-800">,
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * å¯¼å‡ºè¦†ç›–æ•°æ®
 * Export override data
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 410:5 - Line 425:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/cleanup.ts (Line 252:5 - Line 130:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup93"><code class="language-typescript text-sm text-gray-800">return {
      success: true,
      data: undefined,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-core.ts (Line 152:21 - Line 170:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 340:10 - Line 135:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup94"><code class="language-typescript text-sm text-gray-800">,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * è·å–ç”¨æˆ·è¯­è¨€åå¥½
 * Get user locale preference
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-core.ts (Line 220:10 - Line 237:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 118:25 - Line 135:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup95"><code class="language-typescript text-sm text-gray-800">,
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * æ›´æ–°åå¥½ç½®ä¿¡åº¦
 * Update preference confidence
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-core.ts (Line 399:5 - Line 414:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-override.ts (Line 168:5 - Line 130:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup96"><code class="language-typescript text-sm text-gray-800">return {
      success: true,
      data: undefined,
      source: 'both',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance.ts (Line 26:49 - Line 312:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-maintenance.ts (Line 26:79 - Line 312:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup97"><code class="language-typescript text-sm text-gray-800">;

/**
 * è¯­è¨€å­˜å‚¨ç»´æŠ¤ç®¡ç†å™¨ - ç»Ÿä¸€æ¥å£
 * Locale storage maintenance manager - Unified interface
 */
export class LocaleMaintenanceManager {
  // ==================== æ¸…ç†æ“ä½œ ====================

  /**
   * æ¸…é™¤æ‰€æœ‰å­˜å‚¨æ•°æ®
   * Clear all storage data
   */
  static clearAll(): StorageOperationResult {
    return LocaleCleanupManager.clearAll();
  }

  /**
   * æ¸…ç†è¿‡æœŸçš„æ£€æµ‹è®°å½•
   * Clean up expired detection records
   */
  static cleanupExpiredDetections(maxAgeMs?: number): StorageOperationResult {
    return LocaleCleanupManager.cleanupExpiredDetections(maxAgeMs);
  }

  /**
   * æ¸…ç†ç‰¹å®šç±»å‹çš„å­˜å‚¨æ•°æ®
   * Clean up specific type of storage data
   */
  static clearSpecificData(
    dataType: Parameters&lt;typeof LocaleCleanupManager.clearSpecificData&gt;[0],
  ): StorageOperationResult {
    return LocaleCleanupManager.clearSpecificData(dataType);
  }

  /**
   * æ¸…ç†æ— æ•ˆçš„ç”¨æˆ·åå¥½æ•°æ®
   * Clean up invalid user preference data
   */
  static cleanupInvalidPreferences(): StorageOperationResult {
    return LocaleCleanupManager.cleanupInvalidPreferences();
  }

  /**
   * æ¸…ç†é‡å¤çš„æ£€æµ‹è®°å½•
   * Clean up duplicate detection records
   */
  static cleanupDuplicateDetections(): StorageOperationResult {
    return LocaleCleanupManager.cleanupDuplicateDetections();
  }

  /**
   * è·å–æ¸…ç†ç»Ÿè®¡ä¿¡æ¯
   * Get cleanup statistics
   */
  static getCleanupStats(): ReturnType&lt;
    typeof LocaleCleanupManager.getCleanupStats
  &gt; {
    return LocaleCleanupManager.getCleanupStats();
  }

  // ==================== éªŒè¯æ“ä½œ ====================

  /**
   * éªŒè¯å­˜å‚¨æ•°æ®å®Œæ•´æ€§
   * Validate storage data integrity
   */
  static validateStorageIntegrity(): StorageOperationResult {
    return LocaleValidationManager.validateStorageIntegrity();
  }

  /**
   * éªŒè¯ç”¨æˆ·åå¥½æ•°æ®
   * Validate user preference data
   */
  static validatePreferenceData(
    preference: Parameters&lt;
      typeof LocaleValidationManager.validatePreferenceData
    &gt;[0],
  ): boolean {
    return LocaleValidationManager.validatePreferenceData(preference);
  }

  /**
   * éªŒè¯æ£€æµ‹å†å²æ•°æ®
   * Validate detection history data
   */
  static validateHistoryData(
    history: Parameters&lt;typeof LocaleValidationManager.validateHistoryData&gt;[0],
  ): boolean {
    return LocaleValidationManager.validateHistoryData(history);
  }

  /**
   * éªŒè¯å­˜å‚¨åŒæ­¥çŠ¶æ€
   * Validate storage synchronization
   */
  static validateStorageSync(): string[] {
    return LocaleValidationManager.validateStorageSync();
  }

  /**
   * éªŒè¯ç‰¹å®šå­˜å‚¨é”®çš„æ•°æ®
   * Validate data for specific storage key
   */
  static validateSpecificData(
    key: Parameters&lt;typeof LocaleValidationManager.validateSpecificData&gt;[0],
  ): ReturnType&lt;typeof LocaleValidationManager.validateSpecificData&gt; {
    return LocaleValidationManager.validateSpecificData(key);
  }

  /**
   * éªŒè¯æ‰€æœ‰å­˜å‚¨æ•°æ®
   * Validate all storage data
   */
  static validateAllData(): ReturnType&lt;
    typeof LocaleValidationManager.validateAllData
  &gt; {
    return LocaleValidationManager.validateAllData();
  }

  /**
   * æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§
   * Check data consistency
   */
  static checkDataConsistency(): StorageOperationResult {
    return LocaleValidationManager.checkDataConsistency();
  }

  /**
   * è·å–éªŒè¯æ‘˜è¦
   * Get validation summary
   */
  static getValidationSummary(): ReturnType&lt;
    typeof LocaleValidationManager.getValidationSummary
  &gt; {
    return LocaleValidationManager.getValidationSummary();
  }

  /**
   * ä¿®å¤åŒæ­¥é—®é¢˜
   * Fix synchronization issues
   */
  static fixSyncIssues(): StorageOperationResult {
    return LocaleValidationManager.fixSyncIssues();
  }

  // ==================== ç»´æŠ¤æ“ä½œ ====================

  /**
   * æ‰§è¡Œå­˜å‚¨ç»´æŠ¤
   * Perform storage maintenance
   */
  static performMaintenance(
    options: MaintenanceOptions = {},
  ): StorageOperationResult {
    return LocaleMaintenanceOperationsManager.performMaintenance(options);
  }

  /**
   * å‹ç¼©å­˜å‚¨ç©ºé—´
   * Compact storage space
   */
  static compactStorage(): StorageOperationResult {
    return LocaleMaintenanceOperationsManager.compactStorage();
  }

  /**
   * ä¼˜åŒ–æ£€æµ‹å†å²æ•°æ®
   * Optimize detection history data
   */
  static optimizeDetectionHistory(): StorageOperationResult {
    return LocaleMaintenanceOperationsManager.optimizeDetectionHistory();
  }

  /**
   * é‡å»ºå­˜å‚¨ç´¢å¼•
   * Rebuild storage index
   */
  static rebuildStorageIndex(): StorageOperationResult {
    return LocaleMaintenanceOperationsManager.rebuildStorageIndex();
  }

  /**
   * æ‰§è¡Œæ·±åº¦ç»´æŠ¤
   * Perform deep maintenance
   */
  static performDeepMaintenance(): StorageOperationResult {
    return LocaleMaintenanceOperationsManager.performDeepMaintenance();
  }

  /**
   * è·å–ç»´æŠ¤å»ºè®®
   * Get maintenance recommendations
   */
  static getMaintenanceRecommendations(): ReturnType&lt;
    typeof LocaleMaintenanceOperationsManager.getMaintenanceRecommendations
  &gt; {
    return LocaleMaintenanceOperationsManager.getMaintenanceRecommendations();
  }

  // ==================== å¯¼å…¥å¯¼å‡ºæ“ä½œ ====================

  /**
   * å¯¼å‡ºæ‰€æœ‰å­˜å‚¨æ•°æ®
   * Export all storage data
   */
  static exportData(): ExportData {
    return LocaleImportExportManager.exportData();
  }

  /**
   * å¯¼å…¥å­˜å‚¨æ•°æ®
   * Import storage data
   */
  static importData(data: ImportData): StorageOperationResult {
    return LocaleImportExportManager.importData(data);
  }

  /**
   * å¯¼å‡ºä¸ºJSONå­—ç¬¦ä¸²
   * Export as JSON string
   */
  static exportAsJson(): string {
    return LocaleImportExportManager.exportAsJson();
  }

  /**
   * ä»JSONå­—ç¬¦ä¸²å¯¼å…¥
   * Import from JSON string
   */
  static importFromJson(jsonString: string): StorageOperationResult {
    return LocaleImportExportManager.importFromJson(jsonString);
  }

  /**
   * åˆ›å»ºå¤‡ä»½
   * Create backup
   */
  static createBackup(): StorageOperationResult {
    return LocaleImportExportManager.createBackup();
  }

  /**
   * æ¢å¤å¤‡ä»½
   * Restore backup
   */
  static restoreBackup(backupKey: string): StorageOperationResult {
    return LocaleImportExportManager.restoreBackup(backupKey);
  }

  /**
   * åˆ—å‡ºæ‰€æœ‰å¤‡ä»½
   * List all backups
   */
  static listBackups(): ReturnType&lt;
    typeof LocaleImportExportManager.listBackups
  &gt; {
    return LocaleImportExportManager.listBackups();
  }

  /**
   * åˆ é™¤å¤‡ä»½
   * Delete backup
   */
  static deleteBackup(backupKey: string): StorageOperationResult {
    return LocaleImportExportManager.deleteBackup(backupKey);
  }

  /**
   * æ¸…ç†æ—§å¤‡ä»½
   * Clean up old backups
   */
  static cleanupOldBackups(maxBackups?: number): StorageOperationResult {
    return LocaleImportExportManager.cleanupOldBackups(maxBackups);
  }

  /**
   * è·å–å¯¼å‡ºç»Ÿè®¡ä¿¡æ¯
   * Get export statistics
   */
  static getExportStats(): ReturnType&lt;
    typeof LocaleImportExportManager.getExportStats
  &gt; {
    return LocaleImportExportManager.getExportStats();
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-import-export.ts (Line 456:2 - Line 467:11), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-import-export.ts (Line 55:2 - Line 66:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup98"><code class="language-typescript text-sm text-gray-800">{
    const preference = LocalStorageManager.get&lt;UserLocalePreference&gt;(
      STORAGE_KEYS.LOCALE_PREFERENCE,
    );
    const override = LocalStorageManager.get&lt;Locale&gt;(
      STORAGE_KEYS.USER_LOCALE_OVERRIDE,
    );
    const history = LocalStorageManager.get&lt;LocaleDetectionHistory&gt;(
      STORAGE_KEYS.LOCALE_DETECTION_HISTORY,
    );

    const exportData</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-cleanup.ts (Line 143:5 - Line 157:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-validation.ts (Line 108:4 - Line 122:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup99"><code class="language-typescript text-sm text-gray-800">) {
      case 'LOCALE_PREFERENCE':
        return STORAGE_KEYS.LOCALE_PREFERENCE;
      case 'LOCALE_DETECTION_HISTORY':
        return STORAGE_KEYS.LOCALE_DETECTION_HISTORY;
      case 'USER_LOCALE_OVERRIDE':
        return STORAGE_KEYS.USER_LOCALE_OVERRIDE;
      case 'LOCALE_ANALYTICS':
        return STORAGE_KEYS.LOCALE_ANALYTICS;
      case 'LOCALE_CACHE':
        return STORAGE_KEYS.LOCALE_CACHE;
      case 'LOCALE_SETTINGS':
        return STORAGE_KEYS.LOCALE_SETTINGS;
      default:
        return</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-cleanup.ts (Line 248:2 - Line 261:14), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-cleanup.ts (Line 81:3 - Line 94:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup100"><code class="language-typescript text-sm text-gray-800">): StorageOperationResult {
    try {
      const historyData = LocalStorageManager.get&lt;LocaleDetectionHistory&gt;(
        STORAGE_KEYS.LOCALE_DETECTION_HISTORY,
      );

      if (!historyData || !Array.isArray(historyData.detections)) {
        return {
          success: true,
          timestamp: Date.now(),
        };
      }

      const originalCount</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-cleanup.ts (Line 314:3 - Line 340:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-maintenance-validation.ts (Line 180:21 - Line 206:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup101"><code class="language-typescript text-sm text-gray-800">): boolean {
    if (!preference || typeof preference !== 'object') return false;

    const requiredFields = ['locale', 'source', 'timestamp', 'confidence'];
    const hasAllFields = requiredFields.every((field) =&gt; field in preference);

    if (!hasAllFields) return false;

    // éªŒè¯å­—æ®µç±»å‹
    if (typeof preference.locale !== 'string') return false;
    if (typeof preference.source !== 'string') return false;
    if (typeof preference.timestamp !== 'number') return false;
    if (typeof preference.confidence !== 'number') return false;

    // éªŒè¯å€¼çš„åˆç†æ€§
    if (preference.confidence &lt; ZERO || preference.confidence &gt; ONE)
      return false;
    if (preference.timestamp &gt; Date.now() || preference.timestamp &lt; ZERO)
      return false;

    return true;
  }

  /**
   * è·å–æ¸…ç†ç»Ÿè®¡ä¿¡æ¯
   * Get cleanup statistics
   */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history.ts (Line 148:2 - Line 176:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-history.ts (Line 92:9 - Line 119:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup102"><code class="language-typescript text-sm text-gray-800">);

    if (result.success) {
      HistoryEventManager.emitEvent(
        createRecordAddedEvent(locale, source, confidence),
      );
    } else {
      HistoryEventManager.emitEvent(
        createErrorEvent('addDetectionRecord', result.error || 'Unknown error'),
      );
    }

    return result;
  }

  /**
   * è·å–æ£€æµ‹å†å²
   * Get detection history
   */
  static getDetectionHistory(): StorageOperationResult&lt;LocaleDetectionHistory&gt; {
    return getDetectionHistory();
  }

  /**
   * è·å–æœ€è¿‘çš„æ£€æµ‹è®°å½•
   * Get recent detections
   */
  static getRecentDetections(
    limit: number = COUNT_TEN</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history.ts (Line 177:3 - Line 210:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-history.ts (Line 119:3 - Line 152:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup103"><code class="language-typescript text-sm text-gray-800">): LocaleDetectionRecord[] {
    return getRecentDetections(limit);
  }

  /**
   * æŒ‰æ¥æºè·å–æ£€æµ‹è®°å½•
   * Get detections by source
   */
  static getDetectionsBySource(source: string): LocaleDetectionRecord[] {
    return getDetectionsBySource(source);
  }

  /**
   * æŒ‰è¯­è¨€è·å–æ£€æµ‹è®°å½•
   * Get detections by locale
   */
  static getDetectionsByLocale(locale: Locale): LocaleDetectionRecord[] {
    return getDetectionsByLocale(locale);
  }

  /**
   * è·å–æ£€æµ‹ç»Ÿè®¡ä¿¡æ¯
   * Get detection statistics
   */
  static getDetectionStats(): ReturnType&lt;typeof getDetectionStats&gt; {
    return getDetectionStats();
  }

  /**
   * æ¸…ç†è¿‡æœŸçš„æ£€æµ‹è®°å½•
   * Cleanup expired detection records
   */
  static cleanupExpiredDetections(
    maxAgeMs: number = DAYS_PER_MONTH</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history.ts (Line 235:5 - Line 250:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-history.ts (Line 173:2 - Line 188:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup104"><code class="language-typescript text-sm text-gray-800">));
    }

    return result;
  }

  /**
   * å¯¼å‡ºå†å²è®°å½•
   * Export history
   */
  static exportHistory(): StorageOperationResult&lt;LocaleDetectionHistory&gt; {
    const result = exportHistory();

    if (result.success &amp;&amp; result.data) {
      HistoryEventManager.emitEvent(
        createExportEvent('backup', result.data.history?.length || ZERO</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history.ts (Line 250:5 - Line 268:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-history.ts (Line 188:2 - Line 206:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup105"><code class="language-typescript text-sm text-gray-800">),
      );
    }

    return result;
  }

  /**
   * å¯¼å…¥å†å²è®°å½•
   * Import history
   */
  static importHistory(
    history: LocaleDetectionHistory,
  ): StorageOperationResult&lt;LocaleDetectionHistory&gt; {
    const result = importHistory(history);

    if (result.success &amp;&amp; result.data) {
      HistoryEventManager.emitEvent(
        createImportEvent('backup', result.data.history?.length || ZERO</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history.ts (Line 271:5 - Line 358:14), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-history.ts (Line 209:2 - Line 296:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup106"><code class="language-typescript text-sm text-gray-800">, false));
    }

    return result;
  }

  /**
   * æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
   * Add event listener
   */
  static addEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    HistoryEventManager.addEventListener(eventType, listener);
  }

  /**
   * ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
   * Remove event listener
   */
  static removeEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    HistoryEventManager.removeEventListener(eventType, listener);
  }

  /**
   * ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨
   * Remove all event listeners
   */
  static removeAllListeners(): void {
    HistoryEventManager.removeAllListeners();
  }

  /**
   * è·å–å†å²è®°å½•æ‘˜è¦
   * Get history summary
   */
  static getHistorySummary(): ReturnType&lt;typeof getHistorySummary&gt; {
    return getHistorySummary();
  }

  /**
   * è·å–ç»´æŠ¤å»ºè®®
   * Get maintenance recommendations
   */
  static getMaintenanceRecommendations(): ReturnType&lt;
    typeof getMaintenanceRecommendations
  &gt; {
    return getMaintenanceRecommendations();
  }

  /**
   * æ‰§è¡Œå®Œæ•´çš„å†å²ç»´æŠ¤
   * Perform complete history maintenance
   */
  static performMaintenance(
    options?: Parameters&lt;typeof performMaintenance&gt;[0],
  ): ReturnType&lt;typeof performMaintenance&gt; {
    return performMaintenance(options || {});
  }

  /**
   * æŸ¥è¯¢æ£€æµ‹è®°å½•
   * Query detection records
   */
  static queryDetections(
    conditions: QueryConditions,
  ): ReturnType&lt;typeof queryDetections&gt; {
    return queryDetections(conditions);
  }

  /**
   * æœç´¢æ£€æµ‹è®°å½•
   * Search detection records
   */
  static searchDetections(searchTerm: string): LocaleDetectionRecord[] {
    return searchDetections(searchTerm);
  }

  /**
   * è·å–æ£€æµ‹è¶‹åŠ¿
   * Get detection trends
   */
  static getDetectionTrends(
    days: number = DAYS_PER_WEEK</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history.ts (Line 358:14 - Line 386:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-history.ts (Line 296:2 - Line 324:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup107"><code class="language-typescript text-sm text-gray-800">,
  ): ReturnType&lt;typeof getDetectionTrends&gt; {
    return getDetectionTrends(days);
  }

  /**
   * ç”Ÿæˆå†å²æ´å¯Ÿ
   * Generate history insights
   */
  static generateHistoryInsights(): ReturnType&lt;typeof generateHistoryInsights&gt; {
    return generateHistoryInsights();
  }

  /**
   * è·å–æ€§èƒ½æŒ‡æ ‡
   * Get performance metrics
   */
  static getPerformanceMetrics(): ReturnType&lt;typeof getPerformanceMetrics&gt; {
    return getPerformanceMetrics();
  }
}

// ==================== å‘åå…¼å®¹çš„ç±»å‹åˆ«å ====================

/**
 * å‘åå…¼å®¹çš„ç±»å‹åˆ«å
 * Backward compatible type aliases
 */
export type { LocaleHistoryManager as HistoryManager, QueryConditions };</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-query.ts (Line 363:7 - Line 382:12), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-query.ts (Line 305:7 - Line 324:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup108"><code class="language-typescript text-sm text-gray-800">;
  count: number;
  percentage: number;
  avgConfidence: number;
  lastDetection: number;
}&gt; {
  const historyResult = getDetectionHistory();

  if (!historyResult.success || !historyResult.data) {
    return [];
  }

  const records = historyResult.data.history;
  const totalRecords = records.length;

  if (totalRecords === ZERO) {
    return [];
  }

  const sourceStats</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-query.ts (Line 407:7 - Line 419:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-query.ts (Line 349:7 - Line 361:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup109"><code class="language-typescript text-sm text-gray-800">,
      count: stats.count,
      percentage: (stats.count / totalRecords) * PERCENTAGE_FULL,
      avgConfidence: stats.totalConfidence / stats.count,
      lastDetection: stats.lastDetection,
    }))
    .sort((a, b) =&gt; b.count - a.count);
}

/**
 * è·å–æ—¶é—´åˆ†å¸ƒç»Ÿè®¡
 * Get time distribution statistics
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-events.ts (Line 23:2 - Line 87:38), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-events/event-manager.ts (Line 19:2 - Line 83:41)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup110"><code class="language-typescript text-sm text-gray-800">{
  private static eventListeners: Map&lt;string, StorageEventListener[]&gt; =
    new Map();
  private static eventHistory: StorageEvent[] = [];
  private static readonly MAX_EVENT_HISTORY = PERCENTAGE_FULL;

  /**
   * æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
   * Add event listener
   */
  static addEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    if (!this.eventListeners.has(eventType)) {
      this.eventListeners.set(eventType, []);
    }
    this.eventListeners.get(eventType)!.push(listener);
  }

  /**
   * ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
   * Remove event listener
   */
  static removeEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    const listeners = this.eventListeners.get(eventType);
    if (listeners) {
      const index = listeners.indexOf(listener);
      if (index &gt; -ONE) {
        listeners.splice(index, ONE);
      }
    }
  }

  /**
   * ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨
   * Remove all event listeners
   */
  static removeAllListeners(eventType?: string): void {
    if (eventType) {
      this.eventListeners.delete(eventType);
    } else {
      this.eventListeners.clear();
    }
  }

  /**
   * å‘å‡ºäº‹ä»¶
   * Emit event
   */
  static emitEvent(event: StorageEvent): void {
    // è®°å½•äº‹ä»¶å†å²
    this.recordEvent(event);

    // å‘é€ç»™ç‰¹å®šç±»å‹çš„ç›‘å¬å™¨
    const listeners = this.eventListeners.get(event.type);
    if (listeners) {
      listeners.forEach((listener) =&gt; {
        try {
          listener(event);
        } catch (error) {
          logger.error(`Error in history event listener for </code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-events.ts (Line 87:38 - Line 101:44), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-events/event-manager.ts (Line 83:41 - Line 97:47)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup111"><code class="language-typescript text-sm text-gray-800">${event.type}`, {
            error: error as Error,
          });
        }
      });
    }

    // å‘é€ç»™é€šç”¨ç›‘å¬å™¨
    const allListeners = this.eventListeners.get('*');
    if (allListeners) {
      allListeners.forEach((listener) =&gt; {
        try {
          listener(event);
        } catch (error) {
          logger.error('Error in universal history event listener'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-events.ts (Line 101:44 - Line 161:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-preference-events/event-manager.ts (Line 97:47 - Line 157:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup112"><code class="language-typescript text-sm text-gray-800">, {
            error: error as Error,
          });
        }
      });
    }
  }

  /**
   * è®°å½•äº‹ä»¶å†å²
   * Record event history
   */
  private static recordEvent(event: StorageEvent): void {
    this.eventHistory.unshift(event);

    // é™åˆ¶äº‹ä»¶å†å²é•¿åº¦
    if (this.eventHistory.length &gt; this.MAX_EVENT_HISTORY) {
      this.eventHistory = this.eventHistory.slice(ZERO, this.MAX_EVENT_HISTORY);
    }
  }

  /**
   * è·å–äº‹ä»¶å†å²
   * Get event history
   */
  static getEventHistory(limit?: number): StorageEvent[] {
    return limit
      ? this.eventHistory.slice(ZERO, limit)
      : [...this.eventHistory];
  }

  /**
   * æ¸…é™¤äº‹ä»¶å†å²
   * Clear event history
   */
  static clearEventHistory(): void {
    this.eventHistory = [];
  }

  /**
   * è·å–ç›‘å¬å™¨ç»Ÿè®¡
   * Get listener statistics
   */
  static getListenerStats(): {
    totalListeners: number;
    eventTypes: string[];
    listenersByType: Record&lt;string, number&gt;;
  } {
    let totalListeners = ZERO;
    const byType = new Map&lt;string, number&gt;();

    for (const [eventType, listeners] of this.eventListeners.entries()) {
      const count = listeners.length;
      totalListeners += count;
      byType.set(eventType, count);
    }

    return {
      totalListeners,
      eventTypes: Array.from(this.eventListeners.keys()),
      listenersByType: Object.fromEntries(byType.</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-core.ts (Line 127:7 - Line 144:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/maintenance.ts (Line 68:2 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup113"><code class="language-typescript text-sm text-gray-800">,
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * è·å–æ£€æµ‹å†å²
 * Get detection history
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-core.ts (Line 186:7 - Line 205:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-history-maintenance/maintenance.ts (Line 66:2 - Line 85:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup114"><code class="language-typescript text-sm text-gray-800">,
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
      source: 'localStorage',
      timestamp: Date.now(),
      responseTime: Date.now() - startTime,
    };
  }
}

/**
 * æ›´æ–°æ£€æµ‹å†å²
 * Update detection history
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-cookie.ts (Line 166:14 - Line 172:3), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-cookie.ts (Line 37:8 - Line 43:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup115"><code class="language-typescript text-sm text-gray-800">)
      .map(([key, val]) =&gt; {
        if (key === 'maxAge') return `max-age=${val}`;
        if (key === 'sameSite') return `SameSite=${val}`;
        if (key === 'secure' &amp;&amp; val) return 'Secure';
        if (key === 'path') return `Path=${val}`;
        if</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-analytics.ts (Line 80:39 - Line 113:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-analytics.ts (Line 58:69 - Line 92:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup116"><code class="language-typescript text-sm text-gray-800">;

/**
 * å­˜å‚¨åˆ†æç®¡ç†å™¨ - å‘åå…¼å®¹ç±»
 * Storage analytics manager - Backward compatible class
 */
export class LocaleStorageAnalytics {
  /**
   * è·å–å­˜å‚¨ç»Ÿè®¡ä¿¡æ¯
   * Get storage statistics
   */
  static getStorageStats(): StorageOperationResult&lt;StorageStats&gt; {
    const startTime = Date.now();

    try {
      // æ£€æŸ¥ç¼“å­˜
      const cached = CacheManager.getCachedMetrics('storage_stats');
      if (cached) {
        return {
          success: true,
          data: cached as StorageStats,
          source: 'memory',
          timestamp: Date.now(),
          responseTime: Date.now() - startTime,
        };
      }

      const stats = calculateStorageStats();

      // ç¼“å­˜ç»“æœ
      CacheManager.setCachedMetrics('storage_stats', stats);

      // è®°å½•è®¿é—®
      AccessLogger.logAccess({</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-analytics.ts (Line 118:2 - Line 130:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-analytics.ts (Line 96:7 - Line 108:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup117"><code class="language-typescript text-sm text-gray-800">);

      return {
        success: true,
        data: stats,
        source: 'localStorage',
        timestamp: Date.now(),
        responseTime: Date.now() - startTime,
      };
    } catch (error) {
      const errorMessage =
        error instanceof Error ? error.message : 'Unknown error';
      ErrorLogger.logError({</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-analytics.ts (Line 137:2 - Line 162:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-analytics.ts (Line 115:7 - Line 140:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup118"><code class="language-typescript text-sm text-gray-800">);

      return {
        success: false,
        error: errorMessage,
        source: 'localStorage',
        timestamp: Date.now(),
        responseTime: Date.now() - startTime,
      };
    }
  }

  /**
   * æ‰§è¡Œå­˜å‚¨å¥åº·æ£€æŸ¥
   * Perform storage health check
   */
  static performHealthCheck(): StorageOperationResult&lt;StorageHealthCheck&gt; {
    return performHealthCheck();
  }

  /**
   * è®°å½•è®¿é—®æ—¥å¿—
   * Log access
   */
  static logAccess(key: string, operation: string, success: boolean): void {
    AccessLogger.logAccess({</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-storage-analytics.ts (Line 208:3 - Line 259:11), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/locale-storage-analytics.ts (Line 179:5 - Line 230:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup119"><code class="language-typescript text-sm text-gray-800">): void {
    cleanupAnalyticsData(maxAge);
  }

  /**
   * å¯¼å‡ºåˆ†ææ•°æ®
   * Export analytics data
   */
  static exportAnalyticsData(): ExportData {
    return exportAnalyticsData();
  }

  /**
   * æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
   * Add event listener
   */
  static addEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    EventManager.addEventListener(eventType, listener);
  }

  /**
   * ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
   * Remove event listener
   */
  static removeEventListener(
    eventType: string,
    listener: StorageEventListener,
  ): void {
    EventManager.removeEventListener(eventType, listener);
  }

  /**
   * ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨
   * Remove all event listeners
   */
  static removeAllListeners(): void {
    EventManager.removeAllListeners();
  }
}

// ==================== å‘åå…¼å®¹çš„ç±»å‹åˆ«å ====================

/**
 * å‘åå…¼å®¹çš„ç±»å‹åˆ«å
 * Backward compatible type aliases
 */
export type {
  LocaleStorageAnalytics as Analytics,
  ExportData</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-detector-smart.ts (Line 91:5 - Line 102:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/locale-detector-smart.ts (Line 55:5 - Line 66:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup120"><code class="language-typescript text-sm text-gray-800">const userPreference = LocaleStorageManager.getUserPreference();
    if (userPreference &amp;&amp; SUPPORTED_LOCALES.includes(userPreference.locale)) {
      return {
        locale: userPreference.locale,
        source: DETECTION_SOURCES.STORED,
        confidence:
          userPreference.confidence || CONFIDENCE_WEIGHTS.STORED_PREFERENCE,
        details: { userOverride: userPreference.locale },
      };
    }

    // 2. æ£€æŸ¥ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/i18n-lru-cache.ts (Line 244:12 - Line 250:8), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/i18n-lru-cache.ts (Line 228:7 - Line 234:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup121"><code class="language-typescript text-sm text-gray-800">(entries: Array&lt;{ key: string; value: T; ttl?: number }&gt;): void {
    entries.forEach(({ key, value, ttl }) =&gt; {
      this.set(key, value, ttl);
    });
  }

  // æ‰¹é‡åˆ é™¤</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/i18n-cache-types.ts (Line 121:31 - Line 152:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/backups/barrel-exports/src/lib/i18n-cache-types.ts (Line 87:61 - Line 118:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup122"><code class="language-typescript text-sm text-gray-800">;

// ==================== å‘åå…¼å®¹çš„ç±»å‹åˆ«å ====================

/**
 * å‘åå…¼å®¹çš„ç±»å‹åˆ«å
 * Backward compatible type aliases
 */
export type {
  // åŸºç¡€ç±»å‹
  CacheConfig as Config,
  CacheItem as Item,
  CacheStats as Stats,
  CacheEvent as Event,
  CacheManager as Manager,

  // é«˜çº§é…ç½®
  AdvancedCacheConfig as AdvancedConfig,
  CacheClusterConfig as ClusterConfig,
  CacheShardingConfig as ShardingConfig,

  // æ¥å£
  CacheStorage as Storage,
  PersistentStorage as PersistentStore,
  MetricsCollector as Metrics,
  Preloader as PreloadManager,

  // å·¥å…·ç±»å‹
  CacheEventType as EventType,
  CacheStrategy as Strategy,
  CacheEventListener as EventListener,
};</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/i18n-cache-manager.ts (Line 311:20 - Line 323:20), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/lib/i18n-cache-manager.ts (Line 295:17 - Line 307:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup123"><code class="language-typescript text-sm text-gray-800">(
    eventType: import('@/lib/i18n-cache-types').CacheEventType | '*',
    listener: (event: Record&lt;string, unknown&gt;) =&gt; void,
  ): void {
    // åˆ›å»ºé€‚é…å™¨å‡½æ•°æ¥è½¬æ¢äº‹ä»¶ç±»å‹
    const adaptedListener = (cacheEvent: unknown) =&gt; {
      const safeEvent =
        cacheEvent &amp;&amp; typeof cacheEvent === 'object'
          ? (cacheEvent as Record&lt;string, unknown&gt;)
          : ({} as Record&lt;string, unknown&gt;);
      listener(safeEvent);
    };
    this.metricsCollector.removeEventListener</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/hooks/web-vitals-diagnostics-export.ts (Line 302:19 - Line 310:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/hooks/web-vitals-diagnostics-export.ts (Line 60:12 - Line 68:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup124"><code class="language-typescript text-sm text-gray-800">(),
      report.pageUrl,
      report.vitals.cls.toFixed(COUNT_TRIPLE),
      report.vitals.lcp.toFixed(0),
      report.vitals.fid.toFixed(0),
      report.vitals.fcp.toFixed(0),
      report.vitals.ttfb.toFixed(0),
      report.score?.toFixed(1) || 'N/A',
      status</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/hooks/performance-monitor-types.ts (Line 132:2 - Line 146:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/hooks/performance-monitor-types.ts (Line 79:2 - Line 97:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup125"><code class="language-typescript text-sm text-gray-800">{
  isMonitoring: boolean;
  metrics: PerformanceMetrics | null;
  alerts: PerformanceAlert[];
  error: string | null;
  getMetrics: () =&gt; PerformanceMetrics | null;
  startMonitoring: () =&gt; void;
  stopMonitoring: () =&gt; void;
  resetMetrics: () =&gt; void;
  measureLoadTime: () =&gt; void;
  measureRenderTime: () =&gt; void;
  refreshMetrics: () =&gt; void;
  clearAlerts: () =&gt; void;
  performanceAlertSystem: PerformanceAlertSystem;
};</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/hooks/performance-monitor-measurements.ts (Line 260:2 - Line 266:11), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/hooks/performance-monitor-measurements.ts (Line 173:2 - Line 179:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup126"><code class="language-typescript text-sm text-gray-800">= (): Promise&lt;number | null&gt; =&gt; {
  return new Promise((resolve) =&gt; {
    try {
      if (typeof window !== 'undefined' &amp;&amp; 'PerformanceObserver' in window) {
        const observer = new PerformanceObserver((list) =&gt; {
          const entries = list.getEntries();
          const firstEntry</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/constants/test-app-constants.ts (Line 7:1 - Line 30:52), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/constants/test-base-constants.ts (Line 9:2 - Line 32:55)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup127"><code class="language-typescript text-sm text-gray-800">const TEST_BASE_NUMBERS = {
  // æ—¶é—´ç›¸å…³
  MILLISECONDS_PER_SECOND: 1000,
  SECONDS_PER_MINUTE: 60,
  MINUTES_PER_HOUR: 60,
  HOURS_PER_DAY: 24,
  TWENTY_FIVE_HOURS: 25,

  // è®¡æ•°ç›¸å…³
  SMALL_COUNT: 2,
  MEDIUM_COUNT: 5,
  LARGE_COUNT: 10,
  VERY_LARGE_COUNT: 20,
  HUGE_COUNT: 25,

  // ç™¾åˆ†æ¯”
  PERCENTAGE_FULL: 100,
  HALF_PERCENTAGE: 50,

  // è§’åº¦
  FULL_CIRCLE_DEGREES: 360,
} as const;

// ==================== æ—¶é—´è®¡ç®—å¸¸é‡ ====================</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/language-toggle.tsx (Line 26:1 - Line 35:16), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/language-switcher.tsx (Line 62:1 - Line 71:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup128"><code class="language-typescript text-sm text-gray-800">// Custom hook for language switching logic
const useLanguageSwitch = () =&gt; {
  const [switchingTo, setSwitchingTo] = useState&lt;string | null&gt;(null);
  const [switchSuccess, setSwitchSuccess] = useState(false);
  const [isPending, startTransition] = useTransition();

  type TimeoutHandle = ReturnType&lt;typeof setTimeout&gt;;

  const transitionTimeoutRef = useRef&lt;TimeoutHandle | null&gt;(null);
  const successResetRef</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/language-toggle.tsx (Line 55:18 - Line 91:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/components/layout/language-switcher.tsx (Line 94:22 - Line 130:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup129"><code class="language-typescript text-sm text-gray-800">]);

  const finalizeSwitch = useCallback(() =&gt; {
    setSwitchingTo(null);
    setSwitchSuccess(true);
    scheduleSuccessReset();
    transitionTimeoutRef.current = null;
  }, [scheduleSuccessReset]);

  const scheduleTransition = useCallback(() =&gt; {
    transitionTimeoutRef.current = setTimeout(
      finalizeSwitch,
      TRANSITION_TIMEOUT,
    );
  }, [finalizeSwitch]);

  const handleLanguageSwitch = useCallback(
    (newLocale: string) =&gt; {
      clearTimers();
      setSwitchingTo(newLocale);
      setSwitchSuccess(false);
      startTransition(scheduleTransition);
    },
    [clearTimers, scheduleTransition],
  );

  useEffect(() =&gt; clearTimers, [clearTimers]);

  return {
    switchingTo,
    switchSuccess,
    isPending,
    handleLanguageSwitch,
  };
};

export</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/actions.ts (Line 53:18 - Line 64:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/templates/react19-server-action-template.ts (Line 74:7 - Line 85:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup130"><code class="language-typescript text-sm text-gray-800">.safeParse(data);
  if (!baseValidation.success) {
    const errorMessages = baseValidation.error.issues.map((error) =&gt; {
      const field = error.path.join('.');
      return `${field}: ${error.message}`;
    });

    return {
      success: false,
      error: 'Validation failed',
      details: errorMessages,
      data</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/app/actions.ts (Line 69:3 - Line 79:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/src/templates/react19-server-action-template.ts (Line 90:5 - Line 100:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup131"><code class="language-typescript text-sm text-gray-800">const submittedAt = new Date(data.submittedAt);
  const now = new Date();
  const timeDiff = now.getTime() - submittedAt.getTime();
  const maxAge = 10 * 60 * 1000; // 10åˆ†é’Ÿ

  if (timeDiff &gt; maxAge || timeDiff &lt; 0) {
    return {
      success: false,
      error: 'Form submission expired or invalid',
      details: ['Please refresh the page and try again'],
      data</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/test-file-finder.ts (Line 8:1 - Line 19:26), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/verify-and-continue.ts (Line 7:1 - Line 18:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup132"><code class="language-typescript text-sm text-gray-800">function findTsFiles(dir: string, pattern: RegExp = /\.(ts|tsx)$/): string[] {
  const results: string[] = [];

  try {
    const items = readdirSync(dir);

    for (const item of items) {
      const fullPath = join(dir, item);
      const stat = statSync(fullPath);

      if (stat.isDirectory()) {
        // è·³è¿‡node_moduleså’Œ.gitç­‰ç›®å½•</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/test-file-finder.ts (Line 20:9 - Line 28:8), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/verify-and-continue.ts (Line 18:9 - Line 26:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup133"><code class="language-typescript text-sm text-gray-800">if (!item.startsWith('.') &amp;&amp; item !== 'node_modules') {
          results.push(...findTsFiles(fullPath, pattern));
        }
      } else if (stat.isFile() &amp;&amp; pattern.test(item)) {
        results.push(fullPath);
      }
    }
  } catch (error) {
    console</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 46:2 - Line 52:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/smart-constant-generator.ts (Line 96:2 - Line 102:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup134"><code class="language-typescript text-sm text-gray-800">{
      if (num === 1000) return 'SECOND_MS';
      if (num === 2000) return 'TWO_SECONDS_MS';
      if (num === 3000) return 'THREE_SECONDS_MS';
      if (num === 5000) return 'FIVE_SECONDS_MS';
      if (num === 10000) return 'TEN_SECONDS_MS';
      if (num === 30000</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 71:12 - Line 88:12), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/smart-constant-generator.ts (Line 121:14 - Line 138:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup135"><code class="language-typescript text-sm text-gray-800">: Record&lt;number, string&gt; = {
        320: 'BREAKPOINT_MOBILE_SMALL',
        375: 'BREAKPOINT_MOBILE',
        480: 'BREAKPOINT_MOBILE_LARGE',
        640: 'BREAKPOINT_SM',
        667: 'BREAKPOINT_MOBILE_LANDSCAPE',
        720: 'BREAKPOINT_HD_HEIGHT',
        768: 'BREAKPOINT_MD',
        800: 'BREAKPOINT_TABLET_SMALL',
        1024: 'BREAKPOINT_LG',
        1080: 'BREAKPOINT_HD_HEIGHT_FULL',
        1200: 'BREAKPOINT_DESKTOP',
        1280: 'BREAKPOINT_XL',
        1536: 'BREAKPOINT_2XL',
        1600: 'BREAKPOINT_DESKTOP_LARGE',
        1920: 'BREAKPOINT_FULL_HD',
      };
      return breakpoints</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 159:2 - Line 178:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/smart-constant-generator.ts (Line 200:2 - Line 221:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup136"><code class="language-typescript text-sm text-gray-800">{
      const sizeMap: Record&lt;number, string&gt; = {
        256: 'BYTES_256',
        512: 'BYTES_512',
        1024: 'BYTES_1KB',
        2048: 'BYTES_2KB',
        4096: 'BYTES_4KB',
        8192: 'BYTES_8KB',
        16384: 'BYTES_16KB',
        32768: 'BYTES_32KB',
        65536: 'BYTES_64KB',
        131072: 'BYTES_128KB',
        262144: 'BYTES_256KB',
        524288: 'BYTES_512KB',
        1048576: 'BYTES_1MB',
        2097152: 'BYTES_2MB',
        4194304: 'BYTES_4MB',
      };
      return sizeMap[num] || `MEMORY_SIZE_${num}`;
    },</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 197:2 - Line 204:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/smart-constant-generator.ts (Line 221:2 - Line 228:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup137"><code class="language-typescript text-sm text-gray-800">{
      if (num === 0) return 'ANGLE_ZERO';
      if (num === 45) return 'ANGLE_45_DEG';
      if (num === 90) return 'ANGLE_90_DEG';
      if (num === 180) return 'ANGLE_180_DEG';
      if (num === 270) return 'ANGLE_270_DEG';
      if (num === 360 || (num &gt; 359 &amp;&amp; num &lt; 361)) return 'ANGLE_360_DEG';
      return</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 220:2 - Line 226:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/smart-constant-generator.ts (Line 233:2 - Line 240:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup138"><code class="language-typescript text-sm text-gray-800">{
      // æ ¹æ®å¸¸è§åŸå¸‚åæ ‡è¿›è¡Œå‘½å
      if (Math.abs(num - 39.9042) &lt; 0.001) return 'COORD_BEIJING_LAT';
      if (Math.abs(num - 116.4074) &lt; 0.001) return 'COORD_BEIJING_LNG';
      if (Math.abs(num - 40.7128) &lt; 0.001) return 'COORD_NYC_LAT';
      if (Math.abs(num - 74.006) &lt; 0.001) return 'COORD_NYC_LNG';
      return</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 333:12 - Line 356:3), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 306:7 - Line 329:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup139"><code class="language-typescript text-sm text-gray-800">.split('\n');
    const numbers: string[] = [];
    let inNumberSection = false;

    for (const line of lines) {
      if (line.includes('ç¼ºå¤±å¸¸é‡å®šä¹‰')) {
        inNumberSection = true;
        continue;
      }

      if (inNumberSection &amp;&amp; line.includes('ğŸ“ æ¶‰åŠçš„æ–‡ä»¶:')) {
        break;
      }

      if (inNumberSection &amp;&amp; line.trim().startsWith('&quot;')) {
        // æå–æ•°å­—ï¼š  &quot;0.123&quot;: &quot;MAGIC_0_123&quot;,
        const match = line.match(/&quot;([^&quot;]+)&quot;:/);
        if (match) {
          numbers.push(match[1]);
        }
      }
    }

    if</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/semantic-analyzer.ts (Line 409:2 - Line 416:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/smart-constant-generator.ts (Line 335:2 - Line 342:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup140"><code class="language-typescript text-sm text-gray-800">categoryStats)
    .sort(([, a], [, b]) =&gt; b - a)
    .forEach(([category, count]) =&gt; {
      console.log(`  ${category}: ${count} ä¸ª`);
    });

  console.log('');
  console.log(`ğŸ“„ è¯¦ç»†æŠ¥å‘Šå·²ä¿å­˜åˆ°: </code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/deduplicate-mappings.ts (Line 126:7 - Line 137:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/deduplicate-mappings.ts (Line 114:9 - Line 124:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup141"><code class="language-typescript text-sm text-gray-800">const aNum = parseFloat(a.key);
      const bNum = parseFloat(b.key);
      if (!isNaN(aNum) &amp;&amp; !isNaN(bNum)) {
        return aNum - bNum;
      }
      return a.key.localeCompare(b.key);
    })[0];
  }

  /**
   * ç”Ÿæˆå»é‡æŠ¥å‘Š
   */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/deduplicate-mappings.ts (Line 141:11 - Line 149:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/fix-mapping-inconsistencies.ts (Line 138:11 - Line 145:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup142"><code class="language-typescript text-sm text-gray-800">);
    lines.push('');
    lines.push(`ç”Ÿæˆæ—¶é—´: ${new Date().toISOString()}`);
    lines.push('');

    // ç»Ÿè®¡ä¿¡æ¯
    const totalEntries = Object.keys(this.mappingData).length;

    lines</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/deduplicate-mappings.ts (Line 150:13 - Line 173:13), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/fix-mapping-inconsistencies.ts (Line 152:14 - Line 175:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup143"><code class="language-typescript text-sm text-gray-800">}`);
    lines.push('');

    // æŒ‰æ¨¡å—åˆ†ç»„ç»Ÿè®¡
    const moduleStats = new Map&lt;string, number&gt;();
    for (const entry of Object.values(this.mappingData)) {
      if (entry &amp;&amp; entry.module) {
        moduleStats.set(entry.module, (moduleStats.get(entry.module) || 0) + 1);
      }
    }

    lines.push('## æŒ‰æ¨¡å—åˆ†å¸ƒ');
    for (const [module, count] of Array.from(moduleStats.entries()).sort()) {
      lines.push(`- ${module}: ${count} ä¸ªæ˜ å°„`);
    }
    lines.push('');

    return lines.join('\n');
  }
}

async function main() {
  const mappingPath = path.resolve(__dirname, 'enhanced-codex-mapping.json');
  const deduplicator</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/collect-existing-constants.ts (Line 106:2 - Line 124:14), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/collect-existing-constants.ts (Line 59:2 - Line 76:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup144"><code class="language-typescript text-sm text-gray-800">;

              const constantInfo: ConstantInfo = {
                export: exportName,
                module: modulePath,
                value,
                filePath,
                line,
              };

              constants.push(constantInfo);

              if (!valueToConstants.has(value)) {
                valueToConstants.set(value, []);
              }
              valueToConstants.get(value)!.push(constantInfo);

              console.log(
                `  âœ… å‘ç°å¯¹è±¡å¸¸é‡: </code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/collect-existing-constants.ts (Line 136:3 - Line 143:13), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/simple-constant-collector.ts (Line 44:3 - Line 51:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup145"><code class="language-typescript text-sm text-gray-800">const candidateMapping: Record&lt;string, ConstantInfo&gt; = {};
  const conflicts: Record&lt;string, ConstantInfo[]&gt; = {};

  for (const [value, constantInfos] of valueToConstants) {
    const valueStr = value.toString();

    if (constantInfos.length === 1) {
      // å”¯ä¸€å¸¸é‡ï¼Œç›´æ¥æ˜ å°„</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/collect-existing-constants.ts (Line 155:7 - Line 172:11), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/simple-constant-collector.ts (Line 59:7 - Line 76:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup146"><code class="language-typescript text-sm text-gray-800">const prioritized = prioritizeConstant(constantInfos);
      candidateMapping[valueStr] = {
        export: prioritized.export,
        module: prioritized.module,
        source: `${prioritized.filePath}:${prioritized.line}`,
        alternatives: constantInfos
          .filter((c) =&gt; c !== prioritized)
          .map((c) =&gt; ({
            export: c.export,
            module: c.module,
            source: `${c.filePath}:${c.line}`,
          })),
      };
    }
  }

  // ä¿å­˜ç»“æœ
  const outputPath</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/collect-existing-constants.ts (Line 173:3 - Line 186:14), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/simple-constant-collector.ts (Line 76:3 - Line 89:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup147"><code class="language-typescript text-sm text-gray-800">const result = {
    _comment: 'ç°æœ‰å¸¸é‡åˆ†æç»“æœ',
    _generated: new Date().toISOString(),
    _stats: {
      totalConstants: constants.length,
      uniqueValues: valueToConstants.size,
      conflicts: Object.keys(conflicts).length,
    },
    candidateMapping,
    conflicts,
    allConstants: constants,
  };

  writeFileSync</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/codex-filter-analysis.ts (Line 236:15 - Line 243:16), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/codex-filter-analysis.ts (Line 226:13 - Line 233:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup148"><code class="language-typescript text-sm text-gray-800">.forEach((item) =&gt; {
    console.log(
      `  ${item.value} â†’ ${item.constantName} (${item.fileCount}ä¸ªæ–‡ä»¶) - ${item.reason}`,
    );
  });
  console.log('');

  // ä½ä¼˜å…ˆçº§å¸¸é‡ï¼ˆå»ºè®®è±å…ï¼‰</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/codex-filter-analysis.ts (Line 248:12 - Line 255:8), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/codex-filter-analysis.ts (Line 226:13 - Line 233:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup149"><code class="language-typescript text-sm text-gray-800">.forEach((item) =&gt; {
    console.log(
      `  ${item.value} â†’ ${item.constantName} (${item.fileCount}ä¸ªæ–‡ä»¶) - ${item.reason}`,
    );
  });
  console.log('');

  // ç»Ÿè®¡å»ºè®®</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/ast-replace-magic-numbers.ts (Line 34:1 - Line 57:12), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/test-file-finder.ts (Line 5:1 - Line 28:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup150"><code class="language-typescript text-sm text-gray-800">/**
 * é€’å½’æŸ¥æ‰¾åŒ¹é…çš„TypeScriptæ–‡ä»¶
 */
function findTsFiles(dir: string, pattern: RegExp = /\.(ts|tsx)$/): string[] {
  const results: string[] = [];

  try {
    const items = readdirSync(dir);

    for (const item of items) {
      const fullPath = join(dir, item);
      const stat = statSync(fullPath);

      if (stat.isDirectory()) {
        // è·³è¿‡node_moduleså’Œ.gitç­‰ç›®å½•
        if (!item.startsWith('.') &amp;&amp; item !== 'node_modules') {
          results.push(...findTsFiles(fullPath, pattern));
        }
      } else if (stat.isFile() &amp;&amp; pattern.test(item)) {
        results.push(fullPath);
      }
    }
  } catch (error) {
    console.warn(`âš ï¸ æ— æ³•è¯»å–ç›®å½• </code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/ast-replace-magic-numbers.ts (Line 67:21 - Line 76:21), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/magic-numbers/preflight.ts (Line 11:22 - Line 20:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup151"><code class="language-typescript text-sm text-gray-800">);

  // åˆå§‹åŒ–é¡¹ç›® - ä¿®å¤è·¯å¾„é—®é¢˜
  const rootDir = process.cwd().endsWith('scripts/magic-numbers')
    ? resolve(process.cwd(), '../..')
    : process.cwd();

  const project = new Project({
    tsConfigFilePath: resolve(rootDir, 'tsconfig.json'),
    manipulationSettings</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="javascript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">javascript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/translation-scanner.js (Line 168:25 - Line 188:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/translation-sync.js (Line 69:17 - Line 89:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup152"><code class="language-javascript text-sm text-gray-800">() {
  const translations = {};

  for (const locale of CONFIG.LOCALES) {
    const filePath = path.join(CONFIG.MESSAGES_DIR, `${locale}.json`);
    try {
      const content = fs.readFileSync(filePath, 'utf8');
      translations[locale] = JSON.parse(content);
      console.log(`ğŸ“– åŠ è½½ç¿»è¯‘æ–‡ä»¶: ${locale}.json`);
    } catch (error) {
      console.warn(`âš ï¸  æ— æ³•åŠ è½½ç¿»è¯‘æ–‡ä»¶: ${locale}.json - ${error.message}`);
      translations[locale] = {};
    }
  }

  return translations;
}

/**
 * è·å–åµŒå¥—å¯¹è±¡çš„æ‰€æœ‰é”®
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/safe-magic-numbers-fix.js (Line 15:1 - Line 22:12), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/validate-magic-numbers.js (Line 14:1 - Line 21:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup153"><code class="language-javascript text-sm text-gray-800">function getAvailableConstants() {
  const constantsFile = 'src/constants/magic-numbers.ts';
  const content = fs.readFileSync(constantsFile, 'utf8');
  const matches = content.match(/export const (\w+)/g) || [];
  return matches.map((match) =&gt; match.replace('export const ', ''));
}

// è·å–ç°æœ‰å¯¼å…¥å¸¸é‡</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/safe-magic-numbers-fix.js (Line 130:3 - Line 137:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/validate-magic-numbers.js (Line 136:3 - Line 143:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup154"><code class="language-javascript text-sm text-gray-800">for (const error of errors) {
    if (!fileGroups.has(error.file)) {
      fileGroups.set(error.file, []);
    }
    fileGroups.get(error.file).push(error);
  }

  const files</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/safe-magic-numbers-fix.js (Line 197:21 - Line 214:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/validate-magic-numbers.js (Line 22:28 - Line 39:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup155"><code class="language-javascript text-sm text-gray-800">() {
  let output = '';
  try {
    output = execSync('pnpm lint:check 2&gt;&amp;1', {
      encoding: 'utf8',
      shell: true,
      maxBuffer: 1024 * 1024 * 10,
    });
  } catch (error) {
    output = error.stdout || error.output?.join('') || '';
  }

  const errors = [];
  const lines = output.split('\n');
  let currentFile = '';

  for (const line of lines) {
    // æ£€æŸ¥æ–‡ä»¶è·¯å¾„</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/safe-magic-numbers-fix.js (Line 235:13 - Line 263:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/validate-magic-numbers.js (Line 56:2 - Line 84:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup156"><code class="language-javascript text-sm text-gray-800">,
      });
    }
  }

  return errors;
}

// ç”Ÿæˆå¸¸é‡å
function getConstantName(number) {
  const constantMap = {
    0.5: 'MAGIC_0_5',
    0.9: 'MAGIC_0_9',
    1.5: 'MAGIC_1_5',
    131: 'MAGIC_131',
    132: 'MAGIC_132',
    133: 'MAGIC_133',
    136: 'MAGIC_136',
    190: 'MAGIC_190',
    368: 'MAGIC_368',
  };

  return (
    constantMap[number] ||
    `MAGIC_${number.replace(/[.-]/g, '_').replace(/^0x/, 'HEX_')}`
  );
}

// ä¸»å‡½æ•°</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/quality-quick-staged.js (Line 11:15 - Line 20:22), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/type-check-staged.js (Line 12:17 - Line 21:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup157"><code class="language-javascript text-sm text-gray-800">() {
  try {
    const output = execSync(
      'git diff --name-only --cached --diff-filter=ACMR',
      { stdio: ['ignore', 'pipe', 'ignore'] },
    )
      .toString()
      .trim();
    if (!output) return [];
    return output.split('\n').filter((f) =&gt; /\.(js|jsx|ts|tsx)$/i</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/format-check-staged.js (Line 9:1 - Line 21:24), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/quality-quick-staged.js (Line 9:1 - Line 20:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup158"><code class="language-javascript text-sm text-gray-800">const { execSync, spawnSync } = require('child_process');

function getStagedFiles() {
  try {
    const output = execSync(
      'git diff --name-only --cached --diff-filter=ACMR',
      { stdio: ['ignore', 'pipe', 'ignore'] },
    )
      .toString()
      .trim();
    if (!output) return [];

    // è¿‡æ»¤å‡º Prettier æ”¯æŒçš„æ–‡ä»¶ç±»å‹</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/font-subset-implementation.js (Line 136:5 - Line 142:7), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/font-subset-implementation.js (Line 126:9 - Line 131:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup159"><code class="language-javascript text-sm text-gray-800">ranges.push(
      start === end
        ? `U+${start.toString(16).toUpperCase()}`
        : `U+${start.toString(16).toUpperCase()}-${end.toString(16).toUpperCase()}`,
    );

    return</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-unused-variables.js (Line 86:4 - Line 95:19), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-unused-variables.js (Line 72:12 - Line 81:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn160" onclick="toggleCodeBlock('cloneGroup160', 'expandBtn160', 'collapseBtn160')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn160" onclick="toggleCodeBlock('cloneGroup160', 'expandBtn160', 'collapseBtn160')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup160"><code class="language-javascript text-sm text-gray-800">)) {
          const newLine = line.replace(
            new RegExp(`\\b${variable}\\b`),
            `_${variable}`,
          );
          if (newLine !== line) {
            lines[lineIndex] = newLine;
            modified = true;
            console.log(
              `  âœ… å‡½æ•°å‚æ•°æ·»åŠ ä¸‹åˆ’çº¿å‰ç¼€: </code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-unused-imports.js (Line 140:11 - Line 156:23), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-unused-variables.js (Line 148:11 - Line 164:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn161" onclick="toggleCodeBlock('cloneGroup161', 'expandBtn161', 'collapseBtn161')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn161" onclick="toggleCodeBlock('cloneGroup161', 'expandBtn161', 'collapseBtn161')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup161"><code class="language-javascript text-sm text-gray-800">);

  // æŒ‰æ–‡ä»¶åˆ†ç»„
  const errorsByFile = {};
  errors.forEach((error) =&gt; {
    if (!errorsByFile[error.file]) {
      errorsByFile[error.file] = [];
    }
    errorsByFile[error.file].push(error);
  });

  let fixedFiles = 0;
  let totalFixed = 0;

  for (const [file, fileErrors] of Object.entries(errorsByFile)) {
    console.log(`\nğŸ“„ å¤„ç†æ–‡ä»¶: ${file} (${fileErrors.length} ä¸ªé”™è¯¯)`);
    if (fixUnusedImportsInFile</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-unused-imports.js (Line 156:23 - Line 172:19), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-unused-variables.js (Line 164:24 - Line 180:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn162" onclick="toggleCodeBlock('cloneGroup162', 'expandBtn162', 'collapseBtn162')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn162" onclick="toggleCodeBlock('cloneGroup162', 'expandBtn162', 'collapseBtn162')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup162"><code class="language-javascript text-sm text-gray-800">(file, fileErrors)) {
      fixedFiles++;
      totalFixed += fileErrors.length;
    }
  }

  console.log(`\nğŸ“Š ä¿®å¤å®Œæˆç»Ÿè®¡:`);
  console.log(`   ä¿®å¤æ–‡ä»¶æ•°: ${fixedFiles}`);
  console.log(`   ä¿®å¤é”™è¯¯æ•°: ${totalFixed}`);

  // éªŒè¯ä¿®å¤æ•ˆæœ
  console.log('\nğŸ” éªŒè¯ä¿®å¤æ•ˆæœ...');
  try {
    const errorCount = execSync('pnpm type-check 2&gt;&amp;1 | grep -c &quot;error TS&quot;', {
      encoding: 'utf8',
    }).trim();
    const unusedImportErrors</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-test-relative-imports.js (Line 19:23 - Line 29:36), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-whatsapp-relative-imports.js (Line 25:19 - Line 35:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn163" onclick="toggleCodeBlock('cloneGroup163', 'expandBtn163', 'collapseBtn163')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn163" onclick="toggleCodeBlock('cloneGroup163', 'expandBtn163', 'collapseBtn163')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup163"><code class="language-javascript text-sm text-gray-800">(filePath) {
  if (!fs.existsSync(filePath)) {
    console.log(`æ–‡ä»¶ä¸å­˜åœ¨: ${filePath}`);
    return;
  }

  const content = fs.readFileSync(filePath, 'utf8');
  let modifiedContent = content;
  let changeCount = 0;

  // ä¿®å¤ './test-environment-setup' å¯¼å…¥</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-test-relative-imports.js (Line 42:2 - Line 53:26), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-whatsapp-relative-imports.js (Line 83:3 - Line 94:34)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn164" onclick="toggleCodeBlock('cloneGroup164', 'expandBtn164', 'collapseBtn164')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn164" onclick="toggleCodeBlock('cloneGroup164', 'expandBtn164', 'collapseBtn164')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup164"><code class="language-javascript text-sm text-gray-800">);

  if (changeCount &gt; 0) {
    fs.writeFileSync(filePath, modifiedContent, 'utf8');
    console.log(`âœ… ä¿®å¤ ${filePath}: ${changeCount} ä¸ªå¯¼å…¥è·¯å¾„`);
  } else {
    console.log(`â­ï¸  è·³è¿‡ ${filePath}: æ— éœ€ä¿®å¤`);
  }
}

function main() {
  console.log('ğŸ”§ å¼€å§‹ä¿®å¤æµ‹è¯•æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„å¯¼å…¥...\n'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-test-relative-imports.js (Line 59:23 - Line 73:23), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-whatsapp-relative-imports.js (Line 100:19 - Line 114:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn165" onclick="toggleCodeBlock('cloneGroup165', 'expandBtn165', 'collapseBtn165')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn165" onclick="toggleCodeBlock('cloneGroup165', 'expandBtn165', 'collapseBtn165')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup165"><code class="language-javascript text-sm text-gray-800">(filePath);
      totalFixed++;
    } catch (error) {
      console.error(`âŒ ä¿®å¤å¤±è´¥ ${filePath}:`, error.message);
    }
  });

  console.log(`\nğŸ‰ ä¿®å¤å®Œæˆ! å¤„ç†äº† ${totalFixed} ä¸ªæ–‡ä»¶`);
}

if (require.main === module) {
  main();
}

module.exports = { fixTestRelativeImports</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 109:12 - Line 120:27), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 93:12 - Line 104:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn166" onclick="toggleCodeBlock('cloneGroup166', 'expandBtn166', 'collapseBtn166')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn166" onclick="toggleCodeBlock('cloneGroup166', 'expandBtn166', 'collapseBtn166')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup166"><code class="language-javascript text-sm text-gray-800">;

        // åªå¤„ç†ç›¸å¯¹è·¯å¾„å¯¼å…¥
        if (importPath.startsWith('.')) {
          const newPath = convertRelativeToAbsolute(filePath, importPath);
          lines[i] = prefix + newPath + suffix;
          modified = true;
          console.log(`  ${importPath} -&gt; ${newPath}`);
        }
      }

      // åŒ¹é…å¤šè¡Œ export è¯­å¥ä¸­çš„ from è¡Œ</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 125:21 - Line 135:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 93:12 - Line 104:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn167" onclick="toggleCodeBlock('cloneGroup167', 'expandBtn167', 'collapseBtn167')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn167" onclick="toggleCodeBlock('cloneGroup167', 'expandBtn167', 'collapseBtn167')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup167"><code class="language-javascript text-sm text-gray-800">;

        // åªå¤„ç†ç›¸å¯¹è·¯å¾„å¯¼å…¥
        if (importPath.startsWith('.')) {
          const newPath = convertRelativeToAbsolute(filePath, importPath);
          lines[i] = prefix + newPath + suffix;
          modified = true;
          console.log(`  ${importPath} -&gt; ${newPath}`);
        }
      }
    }</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-relative-imports.js (Line 57:6 - Line 156:23), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 38:2 - Line 153:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn168" onclick="toggleCodeBlock('cloneGroup168', 'expandBtn168', 'collapseBtn168')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn168" onclick="toggleCodeBlock('cloneGroup168', 'expandBtn168', 'collapseBtn168')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup168"><code class="language-javascript text-sm text-gray-800">;
  }
}

/**
 * å°†ç›¸å¯¹è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„
 */
function convertRelativeToAbsolute(filePath, importPath) {
  // å¦‚æœå·²ç»æ˜¯ç»å¯¹è·¯å¾„ï¼Œè·³è¿‡
  if (importPath.startsWith('@/') || !importPath.startsWith('.')) {
    return importPath;
  }

  // è·å–æ–‡ä»¶æ‰€åœ¨ç›®å½•
  const fileDir = path.dirname(filePath);

  // è§£æç›¸å¯¹è·¯å¾„
  const absolutePath = path.resolve(fileDir, importPath);

  // æ£€æŸ¥æ˜¯å¦åœ¨é¡¹ç›®æ ¹ç›®å½•å†…
  if (!absolutePath.startsWith(PROJECT_ROOT)) {
    console.warn(`  è­¦å‘Š: è·¯å¾„è¶…å‡ºé¡¹ç›®èŒƒå›´ ${importPath} -&gt; ${absolutePath}`);
    return importPath; // ä¿æŒåŸæ ·
  }

  // è½¬æ¢ä¸ºç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•çš„è·¯å¾„
  let relativePath = path.relative(PROJECT_ROOT, absolutePath);

  // å¦‚æœè·¯å¾„ä¸åœ¨ src ç›®å½•å†…ï¼Œä½¿ç”¨ @/../ å‰ç¼€
  if (!relativePath.startsWith('src/')) {
    return `@/../${relativePath.replace(/\\/g, '/')}`;
  }

  // ç§»é™¤ src/ å‰ç¼€å¹¶è½¬æ¢ä¸º @/ è·¯å¾„
  relativePath = relativePath.substring(4); // ç§»é™¤ 'src/'
  return `@/${relativePath.replace(/\\/g, '/')}`;
}

/**
 * ä¿®å¤å•ä¸ªæ–‡ä»¶çš„å¯¼å…¥
 */
function fixFileImports(filePath) {
  try {
    const content = fs.readFileSync(filePath, 'utf8');
    const lines = content.split('\n');
    let modified = false;

    for (let i = 0; i &lt; lines.length; i++) {
      const line = lines[i];

      // åŒ¹é… import è¯­å¥
      const importMatch = line.match(
        /^(\s*import\s+.*?\s+from\s+['&quot;])([^'&quot;]+)(['&quot;].*)/,
      );
      if (importMatch) {
        const [, prefix, importPath, suffix] = importMatch;

        // åªå¤„ç†ç›¸å¯¹è·¯å¾„å¯¼å…¥
        if (importPath.startsWith('.')) {
          const newPath = convertRelativeToAbsolute(filePath, importPath);
          lines[i] = prefix + newPath + suffix;
          modified = true;
          console.log(`  ${importPath} -&gt; ${newPath}`);
        }
      }

      // åŒ¹é… export è¯­å¥
      const exportMatch = line.match(
        /^(\s*export\s+.*?\s+from\s+['&quot;])([^'&quot;]+)(['&quot;].*)/,
      );
      if (exportMatch) {
        const [, prefix, importPath, suffix] = exportMatch;

        // åªå¤„ç†ç›¸å¯¹è·¯å¾„å¯¼å…¥
        if (importPath.startsWith('.')) {
          const newPath = convertRelativeToAbsolute(filePath, importPath);
          lines[i] = prefix + newPath + suffix;
          modified = true;
          console.log(`  ${importPath} -&gt; ${newPath}`);
        }
      }
    }

    if (modified) {
      fs.writeFileSync(filePath, lines.join('\n'));
      return true;
    }

    return false;
  } catch (error) {
    console.error(`ä¿®å¤æ–‡ä»¶å¤±è´¥ ${filePath}:`, error.message);
    return false;
  }
}

/**
 * ä¸»å‡½æ•°
 */
function main() {
  console.log('ğŸ”§ å¼€å§‹ä¿®å¤ç›¸å¯¹è·¯å¾„å¯¼å…¥é—®é¢˜...\n'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-relative-imports.js (Line 164:13 - Line 199:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 156:12 - Line 191:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn169" onclick="toggleCodeBlock('cloneGroup169', 'expandBtn169', 'collapseBtn169')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn169" onclick="toggleCodeBlock('cloneGroup169', 'expandBtn169', 'collapseBtn169')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup169"><code class="language-javascript text-sm text-gray-800">);

  let fixedCount = 0;

  for (const filePath of filesToFix) {
    console.log(`ä¿®å¤æ–‡ä»¶: ${path.relative(PROJECT_ROOT, filePath)}`);

    if (fixFileImports(filePath)) {
      fixedCount++;
    }

    console.log('');
  }

  console.log(`âœ… ä¿®å¤å®Œæˆï¼å…±ä¿®å¤ ${fixedCount} ä¸ªæ–‡ä»¶`);

  // è¿è¡Œ ESLint æ£€æŸ¥ä¿®å¤ç»“æœ
  console.log('\nğŸ” æ£€æŸ¥ä¿®å¤ç»“æœ...');
  try {
    const result = execSync(
      'npm run lint:check 2&gt;&amp;1 | grep &quot;no-restricted-imports&quot; | wc -l',
      {
        encoding: 'utf8',
      },
    );
    console.log(`å‰©ä½™ no-restricted-imports é”™è¯¯: ${result.trim()}`);
  } catch (error) {
    console.log('æ— æ³•æ£€æŸ¥ä¿®å¤ç»“æœ');
  }
}

if (require.main === module) {
  main();
}

module.exports = { convertRelativeToAbsolute, fixFileImports };</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-missing-imports.js (Line 9:1 - Line 21:14), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/safe-magic-numbers-fix.js (Line 10:1 - Line 21:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn170" onclick="toggleCodeBlock('cloneGroup170', 'expandBtn170', 'collapseBtn170')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn170" onclick="toggleCodeBlock('cloneGroup170', 'expandBtn170', 'collapseBtn170')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup170"><code class="language-javascript text-sm text-gray-800">const fs = require('fs');
const path = require('path');
const { execSync } = require('child_process');

// ä»magic-numbers.tsæå–æ‰€æœ‰å¯ç”¨å¸¸é‡
function getAvailableConstants() {
  const constantsFile = 'src/constants/magic-numbers.ts';
  const content = fs.readFileSync(constantsFile, 'utf8');
  const matches = content.match(/export const (\w+)/g) || [];
  return matches.map((match) =&gt; match.replace('export const ', ''));
}

// åˆ†ææ–‡ä»¶ä¸­ä½¿ç”¨çš„å¸¸é‡</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-missing-imports.js (Line 41:1 - Line 55:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/safe-magic-numbers-fix.js (Line 23:1 - Line 37:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn171" onclick="toggleCodeBlock('cloneGroup171', 'expandBtn171', 'collapseBtn171')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn171" onclick="toggleCodeBlock('cloneGroup171', 'expandBtn171', 'collapseBtn171')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup171"><code class="language-javascript text-sm text-gray-800">function getExistingImports(filePath) {
  const content = fs.readFileSync(filePath, 'utf8');
  const importMatch = content.match(
    /import\s*{\s*([^}]+)\s*}\s*from\s*['&quot;]@\/constants\/magic-numbers['&quot;]/,
  );

  if (!importMatch) return [];

  return importMatch[1]
    .split(',')
    .map((item) =&gt; item.trim())
    .filter((item) =&gt; item.length &gt; 0);
}

// æ›´æ–°å¯¼å…¥è¯­å¥</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-missing-imports.js (Line 76:2 - Line 84:5), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/safe-magic-numbers-fix.js (Line 59:2 - Line 68:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn172" onclick="toggleCodeBlock('cloneGroup172', 'expandBtn172', 'collapseBtn172')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn172" onclick="toggleCodeBlock('cloneGroup172', 'expandBtn172', 'collapseBtn172')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup172"><code class="language-javascript text-sm text-gray-800">content.includes('import')) {
    // åœ¨ç¬¬ä¸€ä¸ªimportè¯­å¥åæ·»åŠ 
    const firstImportMatch = content.match(/^import .+;$/m);
    if (firstImportMatch) {
      content = content.replace(
        firstImportMatch[0],
        `${firstImportMatch[0]}\n${newImportStatement}`,
      );
    } else</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type.js (Line 140:15 - Line 150:9), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-ts1205-export-errors.js (Line 216:14 - Line 226:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn173" onclick="toggleCodeBlock('cloneGroup173', 'expandBtn173', 'collapseBtn173')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn173" onclick="toggleCodeBlock('cloneGroup173', 'expandBtn173', 'collapseBtn173')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup173"><code class="language-javascript text-sm text-gray-800">;
  const duration = Date.now() - startTime;

  console.log(`\nğŸ“Š ä¿®å¤å®Œæˆç»Ÿè®¡:`);
  console.log(`   ä¿®å¤æ–‡ä»¶æ•°: ${totalFixed}`);
  console.log(`   è€—æ—¶: ${duration}ms`);

  // è¿è¡ŒTypeScriptæ£€æŸ¥éªŒè¯ä¿®å¤æ•ˆæœ
  console.log('\nğŸ” éªŒè¯ä¿®å¤æ•ˆæœ...');
  try {
    execSync</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type-issues.js (Line 206:18 - Line 218:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type.js (Line 51:13 - Line 63:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn174" onclick="toggleCodeBlock('cloneGroup174', 'expandBtn174', 'collapseBtn174')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn174" onclick="toggleCodeBlock('cloneGroup174', 'expandBtn174', 'collapseBtn174')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup174"><code class="language-javascript text-sm text-gray-800">.some((type) =&gt; imp.includes(type))) {
              typeImports.push(imp);
            } else {
              valueImports.push(imp);
            }
          });

          let result = '';

          // æ·»åŠ type import
          if (typeImports.length &gt; 0) {
            result += `import type { ${typeImports.join(', ')} } from ${module};\n`;
          }</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type-issues.js (Line 237:5 - Line 252:25), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-ts1205-export-errors.js (Line 150:5 - Line 165:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn175" onclick="toggleCodeBlock('cloneGroup175', 'expandBtn175', 'collapseBtn175')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn175" onclick="toggleCodeBlock('cloneGroup175', 'expandBtn175', 'collapseBtn175')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup175"><code class="language-javascript text-sm text-gray-800">if (modified) {
      fs.writeFileSync(filePath, newContent, 'utf8');
      return true;
    }

    return false;
  } catch (error) {
    console.error(`å¤„ç†æ–‡ä»¶ ${filePath} æ—¶å‡ºé”™:`, error.message);
    return false;
  }
}

/**
 * é€’å½’å¤„ç†ç›®å½•ä¸­çš„æ‰€æœ‰TypeScriptæ–‡ä»¶
 */
function fixImportTypeInDirectory</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type-issues.js (Line 252:25 - Line 263:29), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-ts1205-export-errors.js (Line 165:25 - Line 176:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn176" onclick="toggleCodeBlock('cloneGroup176', 'expandBtn176', 'collapseBtn176')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn176" onclick="toggleCodeBlock('cloneGroup176', 'expandBtn176', 'collapseBtn176')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup176"><code class="language-javascript text-sm text-gray-800">(dirPath) {
  let fixedCount = 0;

  function processDirectory(currentPath) {
    const items = fs.readdirSync(currentPath);

    for (const item of items) {
      const fullPath = path.join(currentPath, item);
      const stat = fs.statSync(fullPath);

      if (stat.isDirectory()) {
        // è·³è¿‡node_moduleså’Œå…¶ä»–ä¸éœ€è¦å¤„ç†çš„ç›®å½•</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type-issues.js (Line 294:25 - Line 314:12), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-ts1205-export-errors.js (Line 214:25 - Line 234:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn177" onclick="toggleCodeBlock('cloneGroup177', 'expandBtn177', 'collapseBtn177')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn177" onclick="toggleCodeBlock('cloneGroup177', 'expandBtn177', 'collapseBtn177')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup177"><code class="language-javascript text-sm text-gray-800">('./src');

  const totalFixed = srcFixedCount;
  const duration = Date.now() - startTime;

  console.log(`\nğŸ“Š ä¿®å¤å®Œæˆç»Ÿè®¡:`);
  console.log(`   ä¿®å¤æ–‡ä»¶æ•°: ${totalFixed}`);
  console.log(`   è€—æ—¶: ${duration}ms`);

  // è¿è¡ŒTypeScriptæ£€æŸ¥éªŒè¯ä¿®å¤æ•ˆæœ
  console.log('\nğŸ” éªŒè¯ä¿®å¤æ•ˆæœ...');
  try {
    const output = execSync('pnpm type-check 2&gt;&amp;1', { encoding: 'utf8' });
    const errorCount = (output.match(/error TS/g) || []).length;
    console.log(`âœ… TypeScriptæ£€æŸ¥å®Œæˆï¼Œå‰©ä½™é”™è¯¯: ${errorCount}ä¸ª`);
  } catch (error) {
    const errorOutput = error.stdout || error.stderr || '';
    const errorCount = (errorOutput.match(/error TS/g) || []).length;
    console.log(`âš ï¸ ä»æœ‰TypeScripté”™è¯¯: ${errorCount}ä¸ª`);

    // æ˜¾ç¤ºå‰10ä¸ªé”™è¯¯</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type-issues.js (Line 318:11 - Line 332:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type.js (Line 160:2 - Line 174:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn178" onclick="toggleCodeBlock('cloneGroup178', 'expandBtn178', 'collapseBtn178')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn178" onclick="toggleCodeBlock('cloneGroup178', 'expandBtn178', 'collapseBtn178')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup178"><code class="language-javascript text-sm text-gray-800">)) {
        console.log(`  ${line}`);
      }
    });
  }

  console.log('\nğŸ¯ import typeä¿®å¤ä»»åŠ¡å®Œæˆï¼');
}

// è¿è¡Œè„šæœ¬
if (require.main === module) {
  main();
}

module.exports = { fixImportTypeInFile, fixImportTypeInDirectory };</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-conflicts.js (Line 28:19 - Line 83:10), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-missing-constants-enhanced.js (Line 82:21 - Line 137:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn179" onclick="toggleCodeBlock('cloneGroup179', 'expandBtn179', 'collapseBtn179')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn179" onclick="toggleCodeBlock('cloneGroup179', 'expandBtn179', 'collapseBtn179')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup179"><code class="language-javascript text-sm text-gray-800">);

    try {
      const files = this.getFilesToProcess();
      console.log(`ğŸ“ æ‰¾åˆ° ${files.length} ä¸ªæ–‡ä»¶éœ€è¦å¤„ç†\n`);

      for (const file of files) {
        await this.processFile(file);
      }

      this.printStats();
    } catch (error) {
      console.error('âŒ æ‰§è¡Œå¤±è´¥:', error.message);
      process.exit(1);
    }
  }

  getFilesToProcess() {
    const files = [];

    const walkDir = (dir) =&gt; {
      const items = fs.readdirSync(dir);

      for (const item of items) {
        const fullPath = path.join(dir, item);
        const stat = fs.statSync(fullPath);

        if (stat.isDirectory()) {
          if (
            !item.startsWith('.') &amp;&amp;
            item !== 'node_modules' &amp;&amp;
            !item.includes('test')
          ) {
            walkDir(fullPath);
          }
        } else if (stat.isFile()) {
          if (
            (item.endsWith('.ts') || item.endsWith('.tsx')) &amp;&amp;
            !item.endsWith('.d.ts') &amp;&amp;
            !item.includes('.test.')
          ) {
            files.push(fullPath);
          }
        }
      }
    };

    walkDir('src');
    return files;
  }

  async processFile(filePath) {
    try {
      const content = fs.readFileSync(filePath, 'utf8');

      // æŸ¥æ‰¾å¯¼å…¥å†²çª</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-conflicts.js (Line 132:2 - Line 138:12), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-missing-constants-enhanced.js (Line 186:2 - Line 192:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn180" onclick="toggleCodeBlock('cloneGroup180', 'expandBtn180', 'collapseBtn180')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn180" onclick="toggleCodeBlock('cloneGroup180', 'expandBtn180', 'collapseBtn180')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup180"><code class="language-javascript text-sm text-gray-800">= new Set();
    const importRegex = /import\s*{\s*([^}]+)\s*}\s*from\s*['&quot;][^'&quot;]+['&quot;];?/g;

    let match;
    while ((match = importRegex.exec(content)) !== null) {
      const imports = match[1].split(',').map((imp) =&gt; imp.trim());
      imports.forEach((imp) =&gt; identifiers</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-error-property.js (Line 20:11 - Line 35:4), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-type.js (Line 76:9 - Line 91:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn181" onclick="toggleCodeBlock('cloneGroup181', 'expandBtn181', 'collapseBtn181')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn181" onclick="toggleCodeBlock('cloneGroup181', 'expandBtn181', 'collapseBtn181')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup181"><code class="language-javascript text-sm text-gray-800">) {
      fs.writeFileSync(filePath, newContent);
      console.log(`âœ… ä¿®å¤: ${filePath}`);
      return true;
    }

    return false;
  } catch (error) {
    console.error(`âŒ ä¿®å¤å¤±è´¥ ${filePath}:`, error.message);
    return false;
  }
}

/**
 * ä¸»å‡½æ•°
 */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-all-imports.js (Line 136:3 - Line 149:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-import-statements.js (Line 116:3 - Line 129:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn182" onclick="toggleCodeBlock('cloneGroup182', 'expandBtn182', 'collapseBtn182')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn182" onclick="toggleCodeBlock('cloneGroup182', 'expandBtn182', 'collapseBtn182')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup182"><code class="language-javascript text-sm text-gray-800">}

  console.log(`\nğŸ‰ ä¿®å¤å®Œæˆï¼`);
  console.log(`ğŸ“Š æ€»è®¡ä¿®å¤ ${totalFixes} ä¸ªæ–‡ä»¶çš„importè¯­å¥`);

  if (totalFixes &gt; 0) {
    console.log('\nğŸ’¡ å»ºè®®è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ä¿®å¤æ•ˆæœï¼š');
    console.log('pnpm type-check');
  }
}

if (require.main === module) {
  main();
}</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/coverage-check.js (Line 170:9 - Line 183:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/coverage-check.js (Line 133:9 - Line 146:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn183" onclick="toggleCodeBlock('cloneGroup183', 'expandBtn183', 'collapseBtn183')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn183" onclick="toggleCodeBlock('cloneGroup183', 'expandBtn183', 'collapseBtn183')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup183"><code class="language-javascript text-sm text-gray-800">,
        filePath,
      );
      const status = results.passed ? 'âœ…' : 'âŒ';
      const avgCoverage =
        results.details.reduce((sum, d) =&gt; sum + d.actual, 0) /
        results.details.length;

      console.log(
        `  ${status} ${path.basename(filePath).padEnd(25)}: ${avgCoverage.toFixed(1)}%`,
      );

      if (!results.passed) {
        securityPassed</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/coverage-check.js (Line 183:2 - Line 194:15), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/coverage-check.js (Line 146:2 - Line 157:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn184" onclick="toggleCodeBlock('cloneGroup184', 'expandBtn184', 'collapseBtn184')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn184" onclick="toggleCodeBlock('cloneGroup184', 'expandBtn184', 'collapseBtn184')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup184"><code class="language-javascript text-sm text-gray-800">= false;
        results.details.forEach(({ metric, actual, threshold, passed }) =&gt; {
          if (!passed) {
            console.log(
              `    âš ï¸  ${metric}: ${actual.toFixed(1)}% &lt; ${threshold}%`,
            );
          }
        });
      }
    } else {
      console.log(`  âŒ ${path.basename(filePath).padEnd(25)}: æœªæµ‹è¯•`);
      securityPassed</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/clean-duplicate-imports.js (Line 32:19 - Line 51:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-missing-constants-enhanced.js (Line 82:21 - Line 99:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn185" onclick="toggleCodeBlock('cloneGroup185', 'expandBtn185', 'collapseBtn185')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn185" onclick="toggleCodeBlock('cloneGroup185', 'expandBtn185', 'collapseBtn185')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup185"><code class="language-javascript text-sm text-gray-800">);

    try {
      const files = this.getFilesToProcess();
      console.log(`ğŸ“ æ‰¾åˆ° ${files.length} ä¸ªæ–‡ä»¶éœ€è¦å¤„ç†\n`);

      for (const file of files) {
        await this.processFile(file);
      }

      this.printStats();
    } catch (error) {
      console.error('âŒ æ‰§è¡Œå¤±è´¥:', error.message);
      process.exit(1);
    }
  }

  /**
   * è·å–è¦å¤„ç†çš„æ–‡ä»¶åˆ—è¡¨
   */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/clean-duplicate-imports.js (Line 52:3 - Line 88:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-missing-constants-enhanced.js (Line 99:3 - Line 133:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn186" onclick="toggleCodeBlock('cloneGroup186', 'expandBtn186', 'collapseBtn186')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn186" onclick="toggleCodeBlock('cloneGroup186', 'expandBtn186', 'collapseBtn186')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup186"><code class="language-javascript text-sm text-gray-800">getFilesToProcess() {
    const files = [];

    const walkDir = (dir) =&gt; {
      const items = fs.readdirSync(dir);

      for (const item of items) {
        const fullPath = path.join(dir, item);
        const stat = fs.statSync(fullPath);

        if (stat.isDirectory()) {
          if (
            !item.startsWith('.') &amp;&amp;
            item !== 'node_modules' &amp;&amp;
            !item.includes('test')
          ) {
            walkDir(fullPath);
          }
        } else if (stat.isFile()) {
          if (
            (item.endsWith('.ts') || item.endsWith('.tsx')) &amp;&amp;
            !item.endsWith('.d.ts') &amp;&amp;
            !item.includes('.test.')
          ) {
            files.push(fullPath);
          }
        }
      }
    };

    walkDir('src');
    return files;
  }

  /**
   * å¤„ç†å•ä¸ªæ–‡ä»¶
   */</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/batch-fix-imports.js (Line 25:1 - Line 63:6), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 42:1 - Line 80:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn187" onclick="toggleCodeBlock('cloneGroup187', 'expandBtn187', 'collapseBtn187')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn187" onclick="toggleCodeBlock('cloneGroup187', 'expandBtn187', 'collapseBtn187')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup187"><code class="language-javascript text-sm text-gray-800">/**
 * å°†ç›¸å¯¹è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„
 */
function convertRelativeToAbsolute(filePath, importPath) {
  // å¦‚æœå·²ç»æ˜¯ç»å¯¹è·¯å¾„ï¼Œè·³è¿‡
  if (importPath.startsWith('@/') || !importPath.startsWith('.')) {
    return importPath;
  }

  // è·å–æ–‡ä»¶æ‰€åœ¨ç›®å½•
  const fileDir = path.dirname(filePath);

  // è§£æç›¸å¯¹è·¯å¾„
  const absolutePath = path.resolve(fileDir, importPath);

  // æ£€æŸ¥æ˜¯å¦åœ¨é¡¹ç›®æ ¹ç›®å½•å†…
  if (!absolutePath.startsWith(PROJECT_ROOT)) {
    console.warn(`  è­¦å‘Š: è·¯å¾„è¶…å‡ºé¡¹ç›®èŒƒå›´ ${importPath} -&gt; ${absolutePath}`);
    return importPath; // ä¿æŒåŸæ ·
  }

  // è½¬æ¢ä¸ºç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•çš„è·¯å¾„
  let relativePath = path.relative(PROJECT_ROOT, absolutePath);

  // å¦‚æœè·¯å¾„ä¸åœ¨ src ç›®å½•å†…ï¼Œä½¿ç”¨ @/../ å‰ç¼€
  if (!relativePath.startsWith('src/')) {
    return `@/../${relativePath.replace(/\\/g, '/')}`;
  }

  // ç§»é™¤ src/ å‰ç¼€å¹¶è½¬æ¢ä¸º @/ è·¯å¾„
  relativePath = relativePath.substring(4); // ç§»é™¤ 'src/'
  return `@/${relativePath.replace(/\\/g, '/')}`;
}

/**
 * ä¿®å¤å•ä¸ªæ–‡ä»¶çš„å¯¼å…¥
 */
function fixFileImports(filePath) {
  const</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/batch-fix-imports.js (Line 105:9 - Line 120:25), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/fix-remaining-imports.js (Line 138:9 - Line 153:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn188" onclick="toggleCodeBlock('cloneGroup188', 'expandBtn188', 'collapseBtn188')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn188" onclick="toggleCodeBlock('cloneGroup188', 'expandBtn188', 'collapseBtn188')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup188"><code class="language-javascript text-sm text-gray-800">, lines.join('\n'));
      return true;
    }

    return false;
  } catch (error) {
    console.error(`ä¿®å¤æ–‡ä»¶å¤±è´¥ ${filePath}:`, error.message);
    return false;
  }
}

/**
 * ä¸»å‡½æ•°
 */
function main() {
  console.log('ğŸ”§ å¼€å§‹æ‰¹é‡ä¿®å¤ç›¸å¯¹è·¯å¾„å¯¼å…¥é—®é¢˜...\n'</code></pre></div><div class="py-4"><p class="text-gray-600">/Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/analyze-typescript-errors.js (Line 97:5 - Line 118:2), /Users/Data/Warehouse/Focus/tucsenberg-web-frontier/scripts/analyze-typescript-errors.js (Line 65:5 - Line 85:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn189" onclick="toggleCodeBlock('cloneGroup189', 'expandBtn189', 'collapseBtn189')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn189" onclick="toggleCodeBlock('cloneGroup189', 'expandBtn189', 'collapseBtn189')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup189"><code class="language-javascript text-sm text-gray-800">const errorStats = {};
    const fileStats = {};

    errorLines.forEach((line) =&gt; {
      // æå–é”™è¯¯ä»£ç 
      const errorMatch = line.match(/error TS(\d+)/);
      if (errorMatch) {
        const errorCode = `TS${errorMatch[1]}`;
        errorStats[errorCode] = (errorStats[errorCode] || 0) + 1;
      }

      // æå–æ–‡ä»¶è·¯å¾„
      const fileMatch = line.match(/^([^(]+)\(/);
      if (fileMatch) {
        const filePath = fileMatch[1];
        fileStats[filePath] = (fileStats[filePath] || 0) + 1;
      }
    });

    return { errorStats, fileStats, totalErrors: errorLines.length };
  }
}</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div></section><!-- Add more sections for other formats and clone groups as needed--></main><footer class="bg-white shadow mt-8 py-4"><div class="container mx-auto px-4 text-center"><p class="text-sm text-gray-600">This report is generated by jscpd, an open-source copy/paste detector.</p><p class="text-sm text-gray-600">jscpd is licensed under the MIT License.</p><a class="text-blue-500 text-sm" href="https://github.com/kucherenko/jscpd" target="_blank" rel="noopener noreferrer">View jscpd on GitHub</a></div></footer><script src="js/prism.js"></script><script>function toggleCodeBlock(codeBlockId, expandBtnId, collapseBtnId) {
  const codeBlock = document.getElementById(codeBlockId);
  const expandBtn = document.getElementById(expandBtnId);
  const collapseBtn = document.getElementById(collapseBtnId);

  codeBlock.classList.toggle('hidden');
  expandBtn.classList.toggle('hidden');
  collapseBtn.classList.toggle('hidden');
}</script></body></html>